<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title><BR> Team HomePage</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <style>
    /* 팀명 소개 css */
    .team-title-card .desc {
      font-size: 1.05rem;
      line-height: 1.8;
      color: #f8f9fa;
      font-weight: 300;
    }


    .team-title-card h3 {
      font-size: 2.5rem;
      font-weight: 700;
    }

    .team-title-card .role {
      font-size: 1.2rem;
      margin-top: 10px;
    }

    .team-title-card .desc {
      font-size: 1rem;
      margin-top: 15px;
      line-height: 1.6;
    }

    #user-info {
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    #user-info .welcome-text {
      white-space: nowrap;
      font-weight: 500;
      font-size: 0.95rem;
      margin-bottom: 0;
    }

    #user-info .button-group {
      display: flex;
      gap: 0.5rem;
    }

    #user-info .button-group .btn {
      min-width: 90px;
      text-align: center;
    }

    @media (max-width: 576px) {
      #user-info {
        flex-direction: column;
        align-items: flex-end;
      }

      #user-info .welcome-text {
        margin-bottom: 0.3rem;
      }

      #user-info .button-group {
        width: 100%;
        flex-direction: column;
      }

      #user-info .button-group .btn {
        width: 100%;
      }
    }

    .team-card {
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .team-card:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }

    .team-card .icon {
      font-size: 48px;
      margin-bottom: 15px;
      color: #20c997;
    }

    .team-card .role {
      font-weight: 600;
      margin-bottom: 10px;
      color: #555;
    }

    .team-card .desc {
      font-size: 0.9rem;
      color: #777;
    }
    
    /* 다크모드 스타일 */
    [data-theme="dark"] .team-card {
      background: var(--surface-color);
      color: var(--default-color);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    [data-theme="dark"] .team-card:hover {
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }

    [data-theme="dark"] .team-card .role {
      color: var(--weather-text-secondary);
    }

    [data-theme="dark"] .team-card .desc {
      color: var(--weather-text-tertiary);
    }


    /* 커스터마이징 된 팀 카드 hover 효과 */
    .icon-box.team-card {
      transition: 0.3s ease;
      background: #ffffff;
      border-radius: 16px;
      padding: 40px 20px;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      height: 100%;
      cursor: pointer;
      border: 1px solid #e5e5e5;
    }

    .icon-box.team-card:hover {
      background: #58d68d;
      transform: translateY(-6px);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
    }

    .icon-box.team-card .icon {
      font-size: 42px;
      color: #58d68d;
      margin-bottom: 20px;
      transition: 0.3s;
    }

    .icon-box.team-card:hover .icon {
      color: white;
    }

    .icon-box.team-card .title {
      font-weight: 600;
      font-size: 20px;
      color: #333;
      transition: 0.3s;
    }

    .icon-box.team-card:hover .title {
      color: white;
    }
    
    /* 다크모드 스타일 */
    [data-theme="dark"] .icon-box.team-card {
      background: var(--surface-color);
      border-color: rgba(60, 63, 68, 0.3);
    }

    [data-theme="dark"] .icon-box.team-card .title {
      color: var(--default-color);
    }

    /* hover 효과는 그대로 유지 */

    .btn-watch-video {
      background: linear-gradient(135deg, #58d68d, #20c997);
      color: white;
      padding: 12px 20px;
      border-radius: 50px;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(32, 201, 151, 0.5);
    }

    .btn-watch-video:hover {
      transform: scale(1.08);
      box-shadow: 0 0 20px rgba(32, 201, 151, 0.8);
    }

    /* 기본 색상 고정 (밝은 테마) */
    .footer .social-links a i.bi-facebook,
    .footer .social-links a i.bi-youtube {
      color: #000 !important;
    }

    /* hover 시에도 유지 */
    .footer .social-links a:hover i.bi-facebook,
    .footer .social-links a:hover i.bi-youtube {
      color: #000 !important;
    }

    /* 이미지 아이콘 밝은 테마 → 검정색처럼 보이게 */
    .footer .social-icon {
      filter: invert(0); /* 기본 상태 그대로 유지 */
    }

    /* 다크모드에서는 소셜 아이콘 색상 흰색처럼 */
    [data-theme="dark"] .footer .social-links a i.bi-facebook,
    [data-theme="dark"] .footer .social-links a i.bi-youtube {
      color: #e0e0e0 !important;
    }

    [data-theme="dark"] .footer .social-links a:hover i.bi-facebook,
    [data-theme="dark"] .footer .social-links a:hover i.bi-youtube {
      color: #e0e0e0 !important;
    }

    /* 이미지 아이콘 다크모드 → 흰색처럼 반전 */
    [data-theme="dark"] .footer .social-icon {
      filter: invert(1) brightness(1.5); /* 어두운 색을 흰색으로 반전 */
    }


    #weatherWidget {
      max-width: 100%;
      margin: 0 auto;
      padding: 0;
      font-family: 'Noto Sans KR', sans-serif;
      position: relative;
    }
    
    .weather-container {
      background-color: var(--weather-container-bg);
      backdrop-filter: blur(8px);
      border-radius: 15px;
      padding: 15px;
      padding-top: 0; /* 상단 패딩 제거 */
      margin: 10px 0;
      box-shadow: 0 8px 15px var(--weather-container-shadow), 
                  0 2px 5px rgba(0, 0, 0, 0.08), 
                  inset 0 1px 1px var(--weather-info-shadow);
      border: 1px solid var(--weather-container-border);
    }
    
    .chart-container {
      height: 240px;
      padding: 15px 10px 10px;
      position: relative;
    }
    
    .chart-note {
      font-size: 11px;
      color: var(--weather-text-tertiary);
      text-align: center;
      margin-top: 8px;
      padding: 0 5px;
    }
    
    .location-name {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 5px;
      color: var(--weather-text-primary);
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      text-decoration: underline dotted;
      text-underline-offset: 3px;
      padding-top: 8px; /* 주간 날씨 제목과 동일한 패딩 */
      display: inline-flex; /* 인라인 플렉스로 변경 */
      align-items: center; /* 세로 중앙 정렬 */
      gap: 5px; /* 아이콘과 텍스트 사이 간격 */
    }
    
    .location-hint {
      font-size: 11px;
      font-weight: normal;
      color: var(--weather-text-tertiary);
      margin-top: 3px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }
    
    .location-hint i {
      font-size: 12px;
      color: var(--weather-text-primary);
    }
    
    .location-coords {
      font-size: 10px;
      color: var(--weather-text-muted);
      margin-bottom: 10px;
    }
    
    .weather-icon {
      font-size: 50px;
      margin: 5px 0;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .current-temp {
      font-size: 42px;
      font-weight: 700;
      margin: 5px 0;
      color: var(--weather-text-primary);
      text-shadow: 0 2px 3px rgba(0, 0, 0, 0.12);
    }
    
    .weather-desc {
      font-size: 14px;
      margin: 5px 0;
      color: var(--weather-text-secondary);
      font-weight: 500;
    }
    
    .weather-metrics {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 10px;
      background: var(--weather-metrics-bg);
      border-radius: 12px;
      padding: 8px;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    
    .metric {
      text-align: center;
      margin: 0 10px;
      position: relative;
    }
    
    .metric-value {
      font-size: 16px;
      font-weight: 600;
      color: var(--weather-text-primary);
      margin-top: 3px;
      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.08);
    }
    
    .metric-label {
      font-size: 12px;
      color: var(--weather-text-tertiary);
      margin-top: 2px;
    }
    
    .last-updated {
      font-size: 10px;
      color: var(--weather-text-muted);
      text-align: center;
      margin-top: 15px;
      margin-bottom: 3px;
    }

    .weather-info {
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100%;
      padding: 15px;
      padding-top: 0; /* 상단 패딩 제거 */
      border-radius: 12px;
      background: var(--weather-info-bg);
      box-shadow: inset 0 1px 1px var(--weather-info-shadow),
                  0 3px 6px rgba(0, 0, 0, 0.08);
    }
    
    .weekly-chart-title {
      color: var(--weather-text-primary);
      font-size: 0.95rem;
      font-weight: 600;
      margin-top: 0;
      margin-bottom: 10px;
      padding-top: 8px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
      text-align: center;
    }
    
    .city-name {
      font-weight: 600;
      color: var(--weather-text-primary);
    }
    
    /* 날씨 위젯 상단 정렬을 위한 스타일 */
    .row.g-3.d-flex {
      align-items: flex-start;
    }
    
    .weather-info, .weather-container {
      height: 100%;
      margin-top: 0;
    }
    
    @media (max-width: 575.98px) {
      .col-current-weather {
        order: 1;
      }
      
      .col-weekly-chart {
        order: 2;
      }
      
      .chart-container {
        height: 200px !important;
        min-height: 200px !important;
      }
      
      .weekly-chart-title {
        margin-bottom: 5px;
      }
    }

    .air-quality-container {
      margin-top: 15px;
      background: var(--air-quality-bg);
      border-radius: 12px;
      padding: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
    
    .air-quality-title {
      font-size: 12px;
      color: var(--weather-text-secondary);
      margin-bottom: 5px;
      font-weight: 500;
      text-align: center;
    }
    
    .air-quality-metrics {
      display: flex;
      justify-content: space-around;
    }
    
    .air-metric {
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 5px 10px;
      position: relative;
    }
    
    .air-metric-icon {
      font-size: 20px;
      margin-bottom: 4px;
    }
    
    .air-metric-value {
      font-size: 14px;
      font-weight: 600;
      margin: 2px 0;
    }
    
    .air-metric-label {
      font-size: 10px;
      color: var(--weather-text-tertiary);
    }

    .air-metric-status {
      font-size: 9px;
      font-weight: 600;
      border-radius: 10px;
      padding: 2px 6px;
      margin-top: 3px;
      color: white;
    }
    
    /* 미세먼지 상태별 색상은 유지 (상태별로 다른 색상 사용) */
    .air-good {
      color: #3498db;
    }
    
    .air-good-bg {
      background-color: #3498db;
    }
    
    .air-moderate {
      color: #2ecc71;
    }
    
    .air-moderate-bg {
      background-color: #2ecc71;
    }
    
    .air-unhealthy-sensitive {
      color: #f39c12;
    }
    
    .air-unhealthy-sensitive-bg {
      background-color: #f39c12;
    }
    
    .air-unhealthy {
      color: #e74c3c;
    }
    
    .air-unhealthy-bg {
      background-color: #e74c3c;
    }
    
    .air-very-unhealthy {
      color: #9b59b6;
    }
    
    .air-very-unhealthy-bg {
      background-color: #9b59b6;
    }
    
    .air-hazardous {
      color: #8e44ad;
    }
    
    .air-hazardous-bg {
      background-color: #8e44ad;
    }
    
    /* 지역별 날씨 지도 마커 스타일 */
    .region-weather-marker {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      width: 35px;
      text-align: center;
    }
    
    .region-weather-emoji {
      font-size: 18px;
      margin-bottom: 1px;
    }
    
    .region-weather-temp {
      background-color: var(--region-weather-temp-bg);
      border-radius: 10px;
      padding: 1px 4px;
      font-weight: bold;
      color: var(--region-weather-temp-color);
      font-size: 11px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .region-name {
      font-size: 9px;
      font-weight: bold;
      color: var(--region-name-color);
      text-shadow: 1px 1px 1px rgba(255,255,255,0.8);
      background-color: var(--region-name-bg);
      border-radius: 8px;
      padding: 1px 3px;
      margin-top: 1px;
    }
    
    /* 지역별 날씨 팝업 스타일 */
    .region-weather-popup {
      background-color: var(--region-popup-bg);
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      min-width: 180px;
      max-width: 220px;
      position: fixed;
      z-index: 9999; /* 더 높은 z-index 값으로 설정 */
      transition: box-shadow 0.2s ease;
      user-select: none; /* 텍스트 선택 방지 */
    }
    
    .region-weather-popup.dragging {
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    
    .region-weather-popup-title {
      font-weight: bold;
      font-size: 16px;
      margin-bottom: 10px;
      color: var(--region-popup-title-color);
      border-bottom: 1px solid var(--region-popup-border);
      padding-bottom: 5px;
      cursor: move; /* 드래그 가능함을 시각적으로 표시 */
      position: relative;
    }
    
    .region-weather-popup-title::before {
      content: '⋮⋮';
      position: absolute;
      left: -5px;
      top: 0;
      font-size: 14px;
      color: #aaa;
      opacity: 0.7;
    }
    
    .region-weather-popup-content {
      font-size: 14px;
    }
    
    .region-weather-popup-close {
      position: absolute;
      top: 5px;
      right: 8px;
      cursor: pointer;
      font-size: 16px;
      color: #999;
    }
    
    .region-weather-popup-close:hover {
      color: #333;
    }

    /* 헤더에 있는 다크모드 토글 버튼 스타일 */
    .theme-toggle-header {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: none;
      transition: all 0.3s ease;
      padding: 0;
      margin-left: 8px;
      z-index: 1000;
    }

    .theme-toggle-header:hover {
      transform: scale(1.1);
      box-shadow: none;
    }

    .theme-toggle-header .icon {
      width: 24px;
      height: 24px;
      transition: all 0.3s ease;
    }

    .theme-toggle-header .sun-icon,
    .theme-toggle-header .moon-icon {
      position: absolute;
      transition: opacity 0.3s ease, transform 0.5s ease;
      color: var(--default-color);
    }

    .theme-toggle-header .sun-icon {
      opacity: 0;
      transform: scale(0.5) rotate(45deg);
    }

    .theme-toggle-header .moon-icon {
      opacity: 1;
      transform: scale(1) rotate(0);
    }

    [data-theme="dark"] .theme-toggle-header .sun-icon {
      opacity: 1;
      transform: scale(1) rotate(0);
    }

    [data-theme="dark"] .theme-toggle-header .moon-icon {
      opacity: 0;
      transform: scale(0.5) rotate(-45deg);
    }
    
    /* 모바일 메뉴 재정의 - 767px 이하에서만 모바일 스타일 적용 */
    @media (max-width: 767px) {
      .navmenu ul {
        display: none;
        list-style: none;
        position: absolute;
        inset: 60px 20px 20px 20px;
        padding: 10px 0;
        margin: 0;
        border-radius: 6px;
        background-color: var(--nav-mobile-background-color);
        overflow-y: auto;
        transition: 0.3s;
        z-index: 9998;
        box-shadow: 0px 0px 30px rgba(0, 0, 0, 0.1);
      }
      
      .mobile-nav-active .navmenu > ul {
        display: block;
      }
      
      /* 모바일에서 user-info 영역 숨기기는 Bootstrap 클래스로 처리 */
      /* d-md-flex d-none 클래스를 user-info에 추가 */
      
      /* 모바일 메뉴 내 사용자 정보 스타일 */
      .mobile-user-info {
        padding: 15px;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      
      .mobile-user-info .welcome-text {
        font-weight: 500;
        margin-bottom: 10px;
        color: var(--nav-color);
        display: block;
        padding: 5px 0;
      }
      
      .mobile-user-info .button-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
        width: 100%;
      }
      
      .mobile-user-info .button-group .btn,
      .mobile-user-info .button-group a {
        text-align: left;
        font-size: 14px;
        padding: 8px 15px;
        transition: all 0.3s ease;
        border-radius: 4px;
        margin: 0;
      }
      
      .mobile-user-info .button-group .btn-outline-danger:hover {
        background-color: rgba(220, 53, 69, 0.1);
        color: #dc3545;
      }
      
      .mobile-user-info .button-group .btn-outline-secondary:hover {
        background-color: rgba(108, 117, 125, 0.1);
        color: var(--nav-hover-color);
      }
      
      .mobile-user-info .theme-toggle-header {
        align-self: flex-start;
        margin-top: 15px;
        background-color: transparent;
        border: 1px solid rgba(108, 117, 125, 0.3);
      }
      
      .mobile-user-info .theme-toggle-header:hover {
        background-color: rgba(108, 117, 125, 0.1);
      }
      
      [data-theme="dark"] .mobile-user-info {
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      [data-theme="dark"] .mobile-user-info .button-group .btn-outline-danger:hover {
        background-color: rgba(220, 53, 69, 0.15);
      }
      
      [data-theme="dark"] .mobile-user-info .button-group .btn-outline-secondary:hover {
        background-color: rgba(255, 255, 255, 0.1);
      }
      
      [data-theme="dark"] .mobile-user-info .theme-toggle-header {
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      
      [data-theme="dark"] .mobile-user-info .theme-toggle-header:hover {
        background-color: rgba(255, 255, 255, 0.1);
      }
    }
    
    /* 768px ~ 991px 범위에서 네비게이션 메뉴 표시 */
    @media (min-width: 768px) and (max-width: 991px) {
      .navmenu ul {
        display: flex;
        list-style: none;
        align-items: center;
        justify-content: center;
        padding: 0;
        margin: 0;
        position: static;
        background-color: transparent;
        box-shadow: none;
      }
      
      .navmenu li {
        position: relative;
        margin: 0 5px; /* 태블릿에서는 간격 약간만 증가 */
      }
      
      .navmenu a,
      .navmenu a:focus {
        color: var(--nav-color);
        padding: 15px 12px; /* 패딩 조정 */
        font-size: 14px;
        font-weight: 500; /* 폰트 굵기 증가 */
        white-space: nowrap;
        transition: all 0.3s ease;
        position: relative;
      }
      
      /* 태블릿에서도 밑줄 효과 적용 */
      .navmenu a::after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        background: var(--nav-hover-color);
        bottom: 8px;
        left: 50%;
        transform: translateX(-50%);
        transition: width 0.3s ease;
      }
      
      .navmenu li:hover > a::after,
      .navmenu .active::after {
        width: 60%;
      }
      
      .navmenu li:hover > a,
      .navmenu .active,
      .navmenu .active:focus {
        color: var(--nav-hover-color);
      }
    }

    /* 모바일 환경에서의 헤더 사용자 정보 영역 처리 */
    @media (max-width: 767.98px) {
      /* 모바일에서는 헤더의 로그인/다크모드 버튼 숨기기 */
      .header-auth-section {
        display: none !important;
      }
      
      /* 모바일 메뉴 내 사용자 정보 영역 */
      .mobile-auth-section {
        padding: 15px;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      
      .mobile-auth-section .welcome-text {
        font-weight: 500;
        margin-bottom: 10px;
        color: var(--nav-color);
        display: block;
        padding: 5px 0;
      }
      
      .mobile-auth-section .button-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
        width: 100%;
      }
      
      .mobile-auth-section .button-group .btn,
      .mobile-auth-section .button-group a {
        text-align: left;
        font-size: 14px;
        padding: 8px 15px;
        transition: all 0.3s ease;
        border-radius: 4px;
        margin: 0;
      }
      
      .mobile-auth-section .theme-toggle-header {
        align-self: flex-start;
        margin-top: 15px;
        background-color: transparent;
        border: 1px solid rgba(108, 117, 125, 0.3);
      }
      
      [data-theme="dark"] .mobile-auth-section {
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }
    }
    
    /* 중간 크기 이상의 화면에서는 모바일 메뉴 내 사용자 정보 영역 숨기기 */
    @media (min-width: 768px) {
      .mobile-auth-section {
        display: none !important;
      }
    }
  </style>

  <!-- 로그인 버튼 hover 스타일 -->
  <style>
    .btn-outline-secondary {
      color: var(--nav-color) !important;
      border-color: var(--nav-color) !important;
    }
    
    .btn-outline-secondary:hover {
      color: var(--nav-hover-color) !important;
      border-color: var(--nav-hover-color) !important;
      background-color: transparent !important;
    }
  </style>

  <style>
    .video-container {
      max-width: 100%;
      padding-top: 56.25%; /* 16:9 비율 유지 */
      position: relative;
    }
  
    .video-wrapper {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  
    .video-wrapper video {
      width: 100%;
      height: 100%;
    }    
  
    .click-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      cursor: pointer;
    }
  </style>
  

  <!-- =======================================================
  * Template Name: eStartup
  * Template URL: https://bootstrapmade.com/estartup-bootstrap-landing-page-template/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="index-page">
  <input type="file" id="fileInput" />
  <button onclick="restoreLocalStorage()">복원</button>
  
  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

      <a href="home.html" class="logo d-flex align-items-center">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="assets/img/logo.png" alt=""> -->
        <h1 class="sitename"><span>&lt;BR&gt; </span>Page</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="#hero">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#services">Services</a></li>
          <!--<li><a href="#team">Team</a></li>-->
          <!--<li class="dropdown"><a href="#"><span>Dropdown</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="#">Dropdown 1</a></li>
              <li class="dropdown"><a href="#"><span>Deep Dropdown</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                <ul>
                  <li><a href="#">Deep Dropdown 1</a></li>
                  <li><a href="#">Deep Dropdown 2</a></li>
                  <li><a href="#">Deep Dropdown 3</a></li>
                  <li><a href="#">Deep Dropdown 4</a></li>
                  <li><a href="#">Deep Dropdown 5</a></li> 
                </ul>
              </li>
              <li><a href="#">Dropdown 2</a></li>
              <li><a href="#">Dropdown 3</a></li>
              <li><a href="#">Dropdown 4</a></li>
            </ul>
          </li>-->
          
          <!-- 모바일 메뉴에 사용자 정보 영역 추가 (자바스크립트로 내용 채워짐) -->
          <div class="mobile-auth-section" id="mobile-user-info">
            <!-- 동적으로 채워질 영역 -->
          </div>
        </ul>
        <i class="mobile-nav-toggle d-md-none bi bi-list"></i>
      </nav>

      <!-- 헤더의 사용자 정보 영역 - 태블릿/데스크탑에만 표시 -->
      <div id="user-info" class="header-auth-section d-flex align-items-center justify-content-end gap-2 flex-wrap">
        <!-- 로그인 여부에 따라 동적으로 채워짐 -->
      </div>

  </header>

  <main class="main">

    <!-- Hero Section -->
    <section id="hero" class="hero section light-background">

      <div class="container position-relative" data-aos="fade-up" data-aos-delay="100">
        <div class="row gy-5">
          <div class="col-lg-6 order-2 order-lg-1 d-flex flex-column justify-content-center">
            <!--<h2>eStartup</h2>
            <p>Sed autem laudantium dolores. Voluptatem itaque ea consequatur eveniet. Eum quas beatae cumque eum quaerat.</p>-->
            <!--
            <div class="d-flex">
              <a href="https://www.youtube.com/watch?v=YwxAiEAUFKo"
                class="glightbox btn-watch-video d-flex align-items-center"><i class="bi bi-play-circle"></i><span>Watch
                  Video</span></a>
            </div>
          -->
          <div class="video-container">
            <div class="video-wrapper">
              <video id="mp4Player" controls poster="images/thumbnail.jpg" width="100%">
                <source src="videos/kosa_intro.mp4" type="video/mp4">
                브라우저가 video 태그를 지원하지 않습니다.
              </video>
            </div>
          </div>
          
          
          
          </div>
          <div class="col-lg-6 order-1 order-lg-2">
            <div id="weather-widget" class="p-3" style="max-width: 100%; margin: 0 auto; overflow-x: hidden;">
              <!-- 모바일 화면에서 순서 조정을 위한 CSS 추가 -->
              <style>
                /* 모바일 화면 (575.98px 이하) */
                @media (max-width: 575.98px) {
                  .col-current-weather, .col-weekly-chart {
                    width: 100% !important;
                    flex: 0 0 100% !important;
                    max-width: 100% !important;
                    margin-bottom: 1rem;
                  }
                  .weather-chart-col {
                    order: 2;
                  }
                  .weather-info-col {
                    order: 1;
                  }
                  .chart-container {
                    height: 200px !important;
                    min-height: 200px !important;
                  }
                  #korea-weather-map {
                    height: 250px !important;
                    min-height: 250px !important;
                  }
                  /* 작은 화면에서의 추가 수정 */
                  .weather-container {
                    height: auto !important;
                    min-height: 450px !important;
                  }
                  .weather-info {
                    height: auto !important;
                  }
                  #weather-widget .row.g-3.d-flex {
                    flex-direction: column;
                  }
                  /* 지도 컨테이너 개선 */
                  .col-weekly-chart .weather-container > div {
                    min-height: 200px;
                    margin-bottom: 10px;
                  }
                  /* 지도와 차트 영역 사이 간격 */
                  .weather-divider {
                    margin: 10px 0 !important;
                  }
                  /* 날씨 컨테이너 내부 여백 조정 */
                  .weather-container {
                    padding: 10px !important;
                  }
                  .weekly-chart-title {
                    padding-top: 8px !important;
                    margin-bottom: 8px !important;
                  }
                }
                
                /* 태블릿 화면 (576px - 991px) */
                @media (min-width: 576px) and (max-width: 991.98px) {
                  .col-current-weather {
                    width: 100% !important;
                    flex: 0 0 100% !important;
                    max-width: 100% !important;
                    margin-bottom: 1rem;
                  }
                  .col-weekly-chart {
                    width: 100% !important;
                    flex: 0 0 100% !important;
                    max-width: 100% !important;
                  }
                  .chart-container {
                    height: 180px !important;
                  }
                  #korea-weather-map {
                    height: 180px !important;
                  }
                  
                  /* 태블릿 가로 모드 (768px 이상) */
                  @media (min-width: 768px) {
                    .col-current-weather {
                      width: 40% !important;
                      flex: 0 0 40% !important;
                      max-width: 40% !important;
                      margin-bottom: 0;
                    }
                    .col-weekly-chart {
                      width: 60% !important;
                      flex: 0 0 60% !important;
                      max-width: 60% !important;
                    }
                  }
                }
                
                /* 데스크탑 화면 (992px 이상) */
                @media (min-width: 992px) {
                  .col-current-weather {
                    width: 40% !important;
                    flex: 0 0 40% !important;
                    max-width: 40% !important;
                  }
                  .col-weekly-chart {
                    width: 60% !important;
                    flex: 0 0 60% !important;
                    max-width: 60% !important;
                  }
                  .chart-container {
                    height: 190px !important;
                  }
                  #korea-weather-map {
                    height: 190px !important;
                  }
                }
                
                /* 큰 데스크탑 화면 (1200px 이상) */
                @media (min-width: 1200px) {
                  #weather-widget {
                    max-width: 1080px;
                    margin: 0 auto;
                  }
                  .chart-container {
                    height: 200px !important;
                  }
                  #korea-weather-map {
                    height: 200px !important;
                  }
                }
                
                /* 추가 공통 스타일 */
                #weather-widget .row {
                  width: 100%;
                  margin: 0;
                }
                
                /* 매우 작은 화면에서의 추가 조정 (400px 이하) */
                @media (max-width: 400px) {
                  #korea-weather-map {
                    min-height: 200px !important;
                    height: 200px !important;
                  }
                  .chart-container {
                    min-height: 180px !important;
                    height: 180px !important;
                  }
                  .weather-container > div {
                    margin-bottom: 15px;
                  }
                }
                
                /* 공통 스타일 - 미디어 쿼리 밖에 배치 */
                #weather-widget {
                  width: 100%;
                  overflow-x: hidden;
                }
                
                /* 지도와 차트 공통 스타일 */
                .chart-container, #korea-weather-map {
                  min-height: 150px;
                  position: relative;
                  transition: height 0.3s ease;
                  overflow: hidden;
                }
              </style>
              <div class="row g-3 d-flex" style="align-items: stretch;">
                <div class="col-md-4 col-current-weather pe-md-2">
                  <div class="weather-info" style="height: 100%;">
                    <div id="location-name" class="location-name" title="클릭하여 도시 검색">
                      위치 확인 중... <i class="bi bi-search" style="font-size: 14px; margin-left: 3px;"></i>
                    </div>
                    <div class="location-hint" style="margin-bottom: 6px;">
                      <i class="bi bi-info-circle"></i> 지역명을 클릭하여 원하는 도시의 날씨를 검색할 수 있습니다
                    </div>
                    <div id="location-coords" class="location-coords" style="margin-bottom: 8px;">GPS 정보를 불러오는 중입니다</div>
                    <div id="weather-icon" class="weather-icon" style="font-size: 35px; margin: 1px 0;">
                      <i class="bi bi-cloud-sun"></i>
                    </div>
                    <div id="weather-temp" class="current-temp" style="font-size: 30px; margin: 1px 0;">--°C</div>
                    <div id="weather-desc" class="weather-desc" style="font-size: 12px; margin: 3px 0;">날씨 정보 로딩 중...</div>
                    <div class="weather-metrics" style="margin-top: 4px; padding: 3px;">
                      <div class="metric">
                        <div class="metric-label">체감온도</div>
                        <div id="weather-feels" class="metric-value">--</div>
                      </div>
                      <div class="metric">
                        <div class="metric-label">습도</div>
                        <div id="weather-humidity" class="metric-value">--</div>
                      </div>
                      <div class="metric">
                        <div class="metric-label">풍속</div>
                        <div id="weather-wind" class="metric-value">--</div>
                      </div>
                    </div>
                    
                    <!-- 미세먼지 정보 추가 -->
                    <div class="air-quality-container" style="margin-top: 5px; padding: 4px;">
                      <div class="air-quality-title">대기질 정보</div>
                      <div class="air-quality-metrics">
                        <div class="air-metric">
                          <div class="air-metric-icon" id="pm10-icon">
                            <i class="bi bi-wind"></i>
                          </div>
                          <div class="air-metric-value" id="pm10-value">--</div>
                          <div class="air-metric-label">미세먼지</div>
                          <div class="air-metric-status" id="pm10-status">--</div>
                        </div>
                        <div class="air-metric">
                          <div class="air-metric-icon" id="pm25-icon">
                            <i class="bi bi-cloud-haze"></i>
                          </div>
                          <div class="air-metric-value" id="pm25-value">--</div>
                          <div class="air-metric-label">초미세먼지</div>
                          <div class="air-metric-status" id="pm25-status">--</div>
                        </div>
                      </div>
                    </div>
                    
                    <div id="last-updated" class="last-updated" style="margin-top: 5px; margin-bottom: 1px;">--</div>
                  </div>
                </div>
                
                <!-- 주간 날씨 예보 (상단에 배치) -->
                <div class="col-md-8 col-weekly-chart">
                  <div class="weather-container" style="margin: 0; height: 100%; display: flex; flex-direction: column;">
                    <!-- 주간 날씨 영역 -->
                    <div style="flex: 1; display: flex; flex-direction: column; min-height: 200px;">
                      <div class="weekly-chart-title" style="margin-bottom: 3px; padding-top: 3px; font-size: 0.85rem;">주간 날씨 예보 <span id="forecast-city" class="city-name"></span></div>
                      <div class="chart-container" style="flex: 1; height: 180px; min-height: 200px; padding: 5px 10px 3px; overflow: hidden;">
                        <canvas id="weeklyWeatherChart"></canvas>
                      </div>
                      <div class="chart-note" style="margin-top: 2px; font-size: 9px;">* 그래프를 클릭하면 상세 정보를 볼 수 있습니다.</div>
                    </div>
                    
                    <!-- 구분선 -->
                    <hr class="weather-divider" style="margin: 2px 0; border-color: rgba(0,0,0,0.1); border-style: solid;">
                    
                    <!-- 지도 영역 -->
                    <div style="flex: 1; display: flex; flex-direction: column; min-height: 200px;">
                      <div class="weekly-chart-title" style="margin-top: 3px; margin-bottom: 3px; padding-top: 3px; font-size: 0.85rem;">지역별 날씨 지도</div>
                      <div id="korea-weather-map" style="flex: 1; width:100%; height: 180px; position:relative; min-height: 200px; overflow: hidden;"></div>
                      <div class="chart-note" style="margin-top: 2px; font-size: 9px;">* 지역의 날씨 아이콘이나 기온을 클릭하면 상세 정보를 볼 수 있습니다.</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- 기존 지역별 날씨 지도 행 제거 -->
            </div>
          </div>
        </div>
      </div>

      <div class="icon-boxes position-relative" data-aos="fade-up" data-aos-delay="200">
        <div class="container position-relative">
          <div class="row gy-4 mt-5">
            <!--
            <div class="col-xl-3 col-md-6">
              <div class="icon-box">
                <div class="icon"><i class="bi bi-easel"></i></div>
                <h4 class="title"><a href="" class="stretched-link">Lorem Ipsum</a></h4>
              </div>
            </div>

            <div class="col-xl-3 col-md-6">
              <div class="icon-box">
                <div class="icon"><i class="bi bi-gem"></i></div>
                <h4 class="title"><a href="" class="stretched-link">Sed ut perspiciatis</a></h4>
              </div>
            </div>

            <div class="col-xl-3 col-md-6">
              <div class="icon-box">
                <div class="icon"><i class="bi bi-geo-alt"></i></div>
                <h4 class="title"><a href="" class="stretched-link">Magni Dolores</a></h4>
              </div>
            </div>

            <div class="col-xl-3 col-md-6">
              <div class="icon-box">
                <div class="icon"><i class="bi bi-command"></i></div> 
                <h4 class="title"><a href="" class="stretched-link">Nemo Enim</a></h4>
              </div>
            </div>-->

          </div>
        </div>
      </div>

    </section><!-- /Hero Section -->

    <!-- About Section -->
    <section id="about" class="about section">

      <div class="container section-title" data-aos="fade-up">
        <h2>Personal Homepage</h2>
        <div><span>Personal</span> <span class="description-title">Homepage</span></div>
      </div>


      <!-- 🔽 여기에 team-card 넣기 -->
      <div class="container">

      <div class="row gy-4 mt-1">
        <div class="col-xl-3 col-md-6 toMini">
          <!--<a href="minihome/kimsiyeon/index.html" class="text-decoration-none">-->
            <div class="icon-box team-card">
              <div class="icon"><i class="bi bi-person-fill"></i></div>
              <h4 class="title" id="siyeon">김시연</h4>
            </div>
          </a>
        </div>
      
        <div class="col-xl-3 col-md-6 toMini">
          <!--<a href="minihome/leejaeseong/index.html" class="text-decoration-none">-->
            <div class="icon-box team-card">
              <div class="icon"><i class="bi bi-person-fill"></i></div>
              <h4 class="title" id="jaeseong">이재성</h4>
            </div>
          </a>
        </div>
      
        <div class="col-xl-3 col-md-6 toMini" >
          <!--<a href="minihome/leejaewon/index.html?" class="text-decoration-none">-->
            <div class="icon-box team-card">
              <div class="icon"><i class="bi bi-person-fill"></i></div>
              <h4 class="title" id="jaewon">이재원</h4>
            </div>
          </a>
        </div>
      
        <div class="col-xl-3 col-md-6 toMini">
          <!--<a href="minihome/hwangyooseok/index.html" class="text-decoration-none">-->
            <div class="icon-box team-card">
              <div class="icon"><i class="bi bi-person-fill"></i></div>
              <h4 class="title" id="yooseok">황유석</h4>
            </div>
          </a>
        </div>
      </div>


      <!-- 👇 아래 기존 About 내용 유지 -->
      <!--
      <div class="container">

        <div class="row gy-4">

          <div class="col-lg-6 content" data-aos="fade-up" data-aos-delay="100">
            <p class="who-we-are">Who We Are</p>
            <h3>Unleashing Potential with Creative Strategy</h3>
            <p class="fst-italic">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua.
            </p>
            <ul>
              <li><i class="bi bi-check-circle"></i> <span>Ullamco laboris nisi ut aliquip ex ea commodo consequat.</span></li>
              <li><i class="bi bi-check-circle"></i> <span>Duis aute irure dolor in reprehenderit in voluptate velit.</span></li>
              <li><i class="bi bi-check-circle"></i> <span>Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate trideta storacalaperda mastiro dolore eu fugiat nulla pariatur.</span></li>
            </ul>
            <a href="#" class="read-more"><span>Read More</span><i class="bi bi-arrow-right"></i></a>
          </div>

          <div class="col-lg-6 about-images" data-aos="fade-up" data-aos-delay="200">
            <div class="row gy-4">
              <div class="col-lg-6">
                <img src="assets/img/about-company-1.jpg" class="img-fluid" alt="">
              </div>
              <div class="col-lg-6">
                <div class="row gy-4">
                  <div class="col-lg-12">
                    <img src="assets/img/about-company-2.jpg" class="img-fluid" alt="">
                  </div>
                  <div class="col-lg-12">
                    <img src="assets/img/about-company-3.jpg" class="img-fluid" alt="">
                  </div>
                </div>
              </div>
            </div>

          </div>

        </div>

      </div>-->
    </section><!-- /About Section -->

    <!-- Services Section -->
    <section id="services" class="services section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Services</h2>
        <div><span>Check Our</span> <span class="description-title">Services</span></div>
      </div><!-- End Section Title -->

      <div class="container">

        <div class="row gy-4">

          <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="100">
            <div class="service-item  position-relative">
              <div class="icon">
                <i class="bi bi-activity"></i>
              </div>
              <a href="javascript:void(0)" class="stretched-link" onclick="toggleTeam()">
                <h3>Team 소개</h3>
              </a>
              <!--<p>Provident nihil minus qui consequatur non omnis maiores. Eos accusantium minus dolores iure perferendis tempore et consequatur.</p>-->
            </div>
          </div><!-- End Service Item -->

          <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="200">
            <div class="service-item position-relative">
              <div class="icon">
                <i class="bi bi-broadcast"></i>
              </div>
              <a href="javascript:void(0)" class="stretched-link" onclick="toggleKanban()">
                <h3>Kanban Board</h3>
              </a>
              <!--<p>Ut autem aut autem non a. Sint sint sit facilis nam iusto sint. Libero corrupti neque eum hic non ut nesciunt dolorem.</p>-->
            </div>
          </div>

          <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="300">
            <div class="service-item position-relative">
              <div class="icon">
                <i class="bi bi-easel"></i>
              </div>
              <a href="javascript:void(0)" class="stretched-link" onclick="toggleMap()">
                <h3>Map</h3>
              </a>
              <!--<p>Ut excepturi voluptatem nisi sed. Quidem fuga consequatur. Minus ea aut. Vel qui id voluptas adipisci eos earum corrupti.</p>-->
            </div>
          </div>

          <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="400">
            <div class="service-item position-relative">
              <div class="icon">
                <i class="bi bi-graph-up-arrow"></i>
              </div>
              <a href="javascript:void(0)" class="stretched-link" onclick="toggleChart()">
                <h3>Chart</h3>
              </a>
            </div>
          </div>

          <!-- End Service Item -->
          <!--
          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="400">
            <div class="service-item position-relative">
              <div class="icon">
                <i class="bi bi-bounding-box-circles"></i>
              </div>
              <a href="service-details.html" class="stretched-link">
                <h3>Asperiores Commodit</h3>
              </a>
              <p>Non et temporibus minus omnis sed dolor esse consequatur. Cupiditate sed error ea fuga sit provident adipisci neque.</p>
              <a href="service-details.html" class="stretched-link"></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="500">
            <div class="service-item position-relative">
              <div class="icon">
                <i class="bi bi-calendar4-week"></i>
              </div>
              <a href="service-details.html" class="stretched-link">
                <h3>Velit Doloremque</h3>
              </a>
              <p>Cumque et suscipit saepe. Est maiores autem enim facilis ut aut ipsam corporis aut. Sed animi at autem alias eius labore.</p>
              <a href="service-details.html" class="stretched-link"></a>
            </div>
          </div>-->

        </div>

      </div>

    </section><!-- /Services Section -->

    <!-- Kanban Board iframe Section -->
    <section id="kanban-frame" class="section" style="display: none;">
      <div class="container">
        <!--<div class="section-title">
      <h2>Kanban Board</h2>
      <p>작업을 시각적으로 관리하세요!</p>
    </div>-->
        <iframe id="kanbanIframe" src="kanban.html" width="100%" height="800"
          style="border: none; border-radius: 12px; box-shadow: 0 0 10px rgba(114, 12, 12, 0.1);"></iframe>
      </div>
    </section>

    <!-- Map iframe Section -->
    <!-- Services > Map 클릭 시 iframe으로 보여줄 섹션 -->
    <section id="map-frame" class="section" style="display: none;">
      <div class="container">
        <iframe id="mapIframe" src="map.html" width="100%" height="600"
          style="border: none; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);"
          onload="this.contentWindow.resetMapCenter()"></iframe>
      </div>
    </section>

    <!-- Chart iframe Section -->
    <section id="chart-frame" class="section" style="display: none;">
      <div class="container">
        <iframe id="chartIframe" src="chart.html" width="100%" height="700"
          style="border: none; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1); visibility: hidden;"
          onload="this.style.visibility='visible'"></iframe>
      </div>
    </section>






    <!-- Team Section -->
    <section id="team" class="team section" style="display: none;">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>Team</h2>
        <div><span>Meet Our</span> <span class="description-title">Team Members</span></div>
      </div><!-- End Section Title -->

      <div class="container">

        <div class="row gy-4">

          <div class="col-lg-12 col-md-12" data-aos="zoom-in" data-aos-delay="100">
            <div class="team-card team-title-card">
              <h3 style="color: #20c997;">"We Are &lt;BR&gt;"</h3>
              <p class="role">안녕하세요-!</p>
              <p class="desc">
                남자 3명 + 여자 1명 = 베스킨라빈스 31처럼<br>
                다채로운 코드, 다양한 생각.<br><br>
                우리는 &lt;BR&gt; 팀입니다.<br>
                디버깅보다 웃음이 많은 곳 :)
              </p>              
            </div>
          </div>
          

          <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="100">
            <div class="team-card">
              <h3 style="color: #20c997;">김시연</h3>
              <div class="icon"><img src="mini/userpages/images/siyeon2.png" alt="김시연연 프로필" style="width: 3em; height: 3em; border-radius: 50%; object-fit: cover; display: inline-block;"></div>
              <p class="role">Back-end Developer</p>
              <p class="desc">"사용자 입장에서 생각하는 개발자"가 되고 싶은 김시연입니다.</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="200">
            <div class="team-card">
              <h3 style="color: #20c997;">이재성</h3>
              <div class="icon"><img src="mini/userpages/images/이재성(지브리)_투명.png" alt="이재성 프로필" style="width: 3em; height: 3em; border-radius: 50%; object-fit: cover; display: inline-block;"></div>
              <p class="role">Back-end Developer</p>
              <p class="desc">세상에서 제일 예쁜 코드를 만들고 싶어요.</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="300">
            <div class="team-card">
              <h3 style="color: #20c997;">이재원</h3>
              <div class="icon">
                <img src="mini/userpages/images/이재원_프로필이미지.png" alt="이재원 프로필" style="width: 2.9em; height: 2.9em; border-radius: 50%; object-fit: cover; object-position: 50% 20%; display: inline-block;">
              </div>
              <p class="role">FullStack Developer</p>

              <p class="desc">일정 조율과 커뮤니케이션을 담당합니다.</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="400">
            <div class="team-card">

              <h3 style="color: #20c997;">황유석</h3>
              <div class="icon"><img src="mini/userpages/images/황유석.png" alt="황유석 프로필" style="width: 3em; height: 3em; border-radius: 50%; object-fit: cover; display: inline-block;"></div>

              <p class="role">FullStack Developer</p>
              <p class="desc">더 나은 코드를 위해 오늘도 성장 중입니다.</p>
            </div>
          </div>

        </div><!-- End pricing row -->

      </div>

    </section><!-- /Pricing Section -->




  </main>
  <!--
  <footer id="footer" class="footer light-background">

    <div class="container">
      <div class="copyright text-center ">
        <p>© <span>Copyright</span> <strong class="px-1 sitename">eStartup</strong> <span>All Rights Reserved</span></p>
      </div>
      <div class="social-links d-flex justify-content-center">
        <a href=""><i class="bi bi-twitter-x"></i></a>
        <a href=""><i class="bi bi-facebook"></i></a>
        <a href=""><i class="bi bi-instagram"></i></a>
        <a href=""><i class="bi bi-linkedin"></i></a>
      </div>
      <div class="credits">
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>

  </footer>-->
  <!-- 회원탈퇴 모달 -->
  <div class="modal fade" id="deleteModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">회원탈퇴 확인</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <p>정말로 탈퇴하시겠습니까?<br><strong>비밀번호를 입력해주세요.</strong></p>
          <input type="password" class="form-control" id="delete-password" placeholder="비밀번호 입력">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
          <button type="button" class="btn btn-danger" onclick="handleDelete()">탈퇴</button>
        </div>
      </div>
    </div>
  </div>


  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>


  <script>
    let player;
  
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('youtubePlayer');
    }
  
    document.addEventListener('DOMContentLoaded', function () {
      const overlay = document.getElementById('clickOverlay');
  
      overlay.addEventListener('click', function () {
        overlay.style.display = 'none'; // 클릭 후 overlay 제거
        if (player) {
          player.playVideo(); // 비디오 재생
        }
      });
    });
  
    // YouTube API 불러오기
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);
  </script>
  
  
  <script>
    function toggleTeam() {
      const team = document.getElementById("team");
      const kanban = document.getElementById("kanban-frame");
      const map = document.getElementById("map-frame");
      const chart = document.getElementById("chart-frame");

      const isVisible = team.style.display === "block";

      team.style.display = isVisible ? "none" : "block";
      kanban.style.display = "none";
      map.style.display = "none";
      chart.style.display = "none";

      if (!isVisible) team.scrollIntoView({ behavior: "smooth" });
    }

    function toggleKanban() {
      const team = document.getElementById("team");
      const kanban = document.getElementById("kanban-frame");
      const map = document.getElementById("map-frame");
      const chart = document.getElementById("chart-frame");

      const isVisible = kanban.style.display === "block";

      kanban.style.display = isVisible ? "none" : "block";
      team.style.display = "none";
      map.style.display = "none";
      chart.style.display = "none";

      if (!isVisible) kanban.scrollIntoView({ behavior: "smooth" });
    }

    function toggleMap() {
      const team = document.getElementById("team");
      const kanban = document.getElementById("kanban-frame");
      const map = document.getElementById("map-frame");
      const chart = document.getElementById("chart-frame");
      const iframe = document.getElementById("mapIframe");

      const isVisible = map.style.display === "block";

      map.style.display = isVisible ? "none" : "block";
      team.style.display = "none";
      kanban.style.display = "none";
      chart.style.display = "none";

      if (!isVisible) {
        // 강제 리로드
        iframe.src = iframe.src;

        // iframe 로딩되면 중심 재설정
        iframe.onload = () => {
          iframe.contentWindow.resetMapCenter?.();
          map.scrollIntoView({ behavior: "smooth" });
        };
      }
    }

    function toggleChart() {
      const team = document.getElementById("team");
      const kanban = document.getElementById("kanban-frame");
      const map = document.getElementById("map-frame");
      const chart = document.getElementById("chart-frame");
      const iframe = document.getElementById("chartIframe");

      const isVisible = chart.style.display === "block";

      chart.style.display = isVisible ? "none" : "block";
      team.style.display = "none";
      kanban.style.display = "none";
      map.style.display = "none";

      if (!isVisible) {
        iframe.onload = () => {
          chart.scrollIntoView({ behavior: "smooth" });
        };
        setTimeout(() => {
          chart.scrollIntoView({ behavior: "smooth" });
        }, 100);
      }
    }


  </script>



  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const userInfo = JSON.parse(localStorage.getItem("user"));
      const userInfoDiv = document.getElementById("user-info");
      const mobileUserInfoDiv = document.getElementById("mobile-user-info");

      // 다크모드 토글 버튼 HTML
      const themeToggleHTML = `
        <button class="theme-toggle-header" id="theme-toggle" aria-label="다크 모드 토글">
          <svg class="icon sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg class="icon moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      `;

      // 모바일 다크모드 토글 버튼 HTML (ID 변경)
      const mobileThemeToggleHTML = `
        <button class="theme-toggle-header" id="mobile-theme-toggle" aria-label="다크 모드 토글">
          <svg class="icon sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg class="icon moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      `;

      if (userInfo && userInfo.name) {
        // 로그인한 경우
        userInfoDiv.innerHTML = `
        <span class="me-3">👋 ${userInfo.name}님 환영합니다!</span>
        <button class="btn btn-sm btn-outline-danger me-2" onclick="logout()">로그아웃</button>
        <button class="btn btn-sm btn-outline-secondary me-2" data-bs-toggle="modal" data-bs-target="#deleteModal">회원탈퇴</button>
        ${themeToggleHTML}
        `;
        
        // 모바일 메뉴에도 표시
        mobileUserInfoDiv.innerHTML = `
        <span class="welcome-text">👋 ${userInfo.name}님 환영합니다!</span>
        <div class="button-group">
          <button class="btn btn-sm btn-outline-danger w-100" onclick="logout()">
            <i class="bi bi-box-arrow-right me-2"></i>로그아웃
          </button>
          <button class="btn btn-sm btn-outline-secondary w-100" data-bs-toggle="modal" data-bs-target="#deleteModal">
            <i class="bi bi-person-x me-2"></i>회원탈퇴
          </button>
        </div>
        ${mobileThemeToggleHTML}
        `;
      } else {
        // 로그인하지 않은 경우
        userInfoDiv.innerHTML = `
          <a href="login.html" class="btn btn-sm btn-outline-secondary me-2">로그인</a>
          ${themeToggleHTML}
        `;
        
        // 모바일 메뉴에도 표시
        mobileUserInfoDiv.innerHTML = `
          <div class="button-group">
            <a href="login.html" class="btn btn-sm btn-outline-secondary w-100 d-flex align-items-center ps-2" style="justify-content: flex-start; gap: 4px;">
              <i class="bi bi-box-arrow-in-right"></i>로그인
            </a>
          </div>
          ${mobileThemeToggleHTML}
        `;
      }

      // 다크모드 버튼을 body에 직접 추가하는 코드 제거
      // document.body.insertAdjacentHTML('beforeend', themeToggleHTML);
    });

    function logout() {
      localStorage.removeItem("user");
      Swal.fire({
        icon: 'success',
        title: '로그아웃 완료',
        text: '로그아웃 되었습니다.',
        confirmButtonText: '확인'
      }).then(() => {
        window.location.href = "home.html";
      });
    }

    function handleDelete() {
      const inputPw = document.getElementById("delete-password").value;
      const user = JSON.parse(localStorage.getItem("user"));
      let users = JSON.parse(localStorage.getItem("users")) || [];
    
      let userColors = JSON.parse(localStorage.getItem("userColors")) || {};
      let allMarkers = JSON.parse(localStorage.getItem("markers")) || [];
    
      const matched = users.find(u => u.id === user.id && u.password === inputPw);
    
      if (!matched) {
        Swal.fire({
          icon: 'error',
          title: '비밀번호 불일치',
          text: '❌ 비밀번호가 일치하지 않습니다.',
          confirmButtonText: '확인'
        });
        return;
      }
    
      Swal.fire({
        icon: 'warning',
        title: '정말로 계정을 삭제하시겠습니까?',
        text: '삭제된 계정은 복구할 수 없습니다.',
        showCancelButton: true,
        confirmButtonText: '삭제',
        cancelButtonText: '취소'
      }).then((result) => {
        if (result.isConfirmed) {
          users = users.filter(u => u.id !== user.id);
          localStorage.setItem("users", JSON.stringify(users));
    
          delete userColors[user.name];
          localStorage.setItem("userColors", JSON.stringify(userColors));
    
          allMarkers = allMarkers.filter(m => m.user !== user.name);
          localStorage.setItem("markers", JSON.stringify(allMarkers));
    
          localStorage.removeItem("user");
    
          Swal.fire({
            icon: 'success',
            title: '회원탈퇴 완료',
            text: '✅ 회원탈퇴가 완료되었습니다.',
            confirmButtonText: '홈으로'
          }).then(() => {
            window.location.href = "home.html";
          });
        }
      });
    }
    


  </script>
  
  <!-- 날씨 기능 스크립트 -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 기본 위치 정보 (서울 시청)
      const defaultLatitude = 37.5665;
      const defaultLongitude = 126.9780;
      
      // 위치 정보 가져오기
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          // 위치 정보 성공적으로 가져왔을 때
          function(position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
            
            // 위치 정보 표시
            document.getElementById('location-coords').textContent = 
              `위도: ${latitude.toFixed(4)}, 경도: ${longitude.toFixed(4)}`;
            
            // 현재 위치에서 가장 가까운 koreaRegions 지역 찾기
            const closestRegion = findClosestRegion(latitude, longitude);
            
            if (closestRegion) {
              console.log(`가장 가까운 지역: ${closestRegion.name}, 해당 지역의 좌표 사용`);
              
              // 위치 정보 업데이트
              document.getElementById('location-name').innerHTML = 
                `${closestRegion.name} (가장 가까운 지역) <i class="bi bi-search" style="font-size: 14px; margin-left: 3px;"></i>`;
              document.getElementById('location-coords').textContent = 
                `위도: ${closestRegion.lat.toFixed(4)}, 경도: ${closestRegion.lng.toFixed(4)}`;
              
              // 주간 날씨 예보 제목에도 도시 이름 표시
              document.getElementById('forecast-city').textContent = `(${closestRegion.name})`;
              
              // 가장 가까운 지역의 좌표로 날씨 데이터 가져오기
              fetchWeatherData(closestRegion.lat, closestRegion.lng);
              
              // 위치 이름 가져오기 (리버스 지오코딩)
              fetchLocationName(closestRegion.lat, closestRegion.lng);
            } else {
              // OpenWeatherMap API로 날씨 데이터 가져오기
              fetchWeatherData(latitude, longitude);
              
              // 위치 이름 가져오기 (리버스 지오코딩)
              fetchLocationName(latitude, longitude);
            }
          },
          // 위치 정보 가져오기 실패했을 때
          function(error) {
            console.error("위치 정보를 가져오는데 실패했습니다:", error);
            document.getElementById('location-name').innerHTML = "위치 정보를 가져올 수 없습니다 <i class=\"bi bi-search\" style=\"font-size: 14px; margin-left: 3px;\"></i>";
            document.getElementById('location-coords').textContent = "기본 위치(서울)를 사용합니다";
            document.getElementById('weather-desc').textContent = "날씨 정보 로딩 중...";
            
            // 기본 위치(서울)로 날씨 데이터 가져오기
            fetchWeatherData(defaultLatitude, defaultLongitude);
            fetchLocationName(defaultLatitude, defaultLongitude);
          },
          // 위치 정보 설정
          {
            enableHighAccuracy: true,  // 높은 정확도 사용
            timeout: 5000,            // 5초 제한시간
            maximumAge: 0             // 캐시된 위치 사용하지 않음
          }
        );
      } else {
        // 브라우저가 위치 정보를 지원하지 않을 때
        document.getElementById('location-name').innerHTML = "위치 정보를 지원하지 않는 브라우저입니다 <i class=\"bi bi-search\" style=\"font-size: 14px; margin-left: 3px;\"></i>";
        document.getElementById('location-coords').textContent = "기본 위치(서울)를 사용합니다";
        
        // 기본 위치(서울)로 날씨 데이터 가져오기
        fetchWeatherData(defaultLatitude, defaultLongitude);
        fetchLocationName(defaultLatitude, defaultLongitude);
      }
      
      // 위치 직접 설정 기능 추가 (화면 클릭 시)
      document.getElementById('location-name').addEventListener('click', function() {
        const cityName = prompt("도시 이름을 입력하세요 (예: 서울, 부산, 대구):", "서울");
        if (cityName) {
          searchLocationByName(cityName);
        }
      });
    });
    
    // 도시 이름으로 위치 검색
    function searchLocationByName(cityName) {
      // 먼저 koreaRegions 배열에서 일치하는 도시 찾기
      const regionMatch = koreaRegions.find(region => region.name === cityName);
      
      if (regionMatch) {
        // koreaRegions에 정의된 도시인 경우 미리 정의된 좌표 사용
        const latitude = regionMatch.lat;
        const longitude = regionMatch.lng;
        const locationName = regionMatch.name;
        
        console.log(`지역 매칭: ${locationName} 지역 발견, 미리 정의된 좌표 사용`);
        console.log(`위도: ${latitude}, 경도: ${longitude}`);
        
        // 위치 정보 표시
        document.getElementById('location-name').innerHTML = `${locationName} <i class="bi bi-search" style="font-size: 14px; margin-left: 3px;"></i>`;
        document.getElementById('location-coords').textContent = 
          `위도: ${latitude.toFixed(4)}, 경도: ${longitude.toFixed(4)}`;
        
        // 주간 날씨 예보 제목에도 도시 이름 표시
        document.getElementById('forecast-city').textContent = `(${locationName})`;
          
        // 날씨 데이터 가져오기 (주간 예보 포함)
        fetchWeatherData(latitude, longitude);
        
        // 차트 로딩 상태 해제
        document.getElementById('weeklyWeatherChart').style.opacity = '1';
        
        return; // 함수 종료
      }
      
      // koreaRegions에 없는 도시인 경우 기존 API 검색 사용
      const apiKey = '4d8fb5b93d4af21d66a2948710284366'; // OpenWeatherMap API 키
      const apiUrl = `https://api.openweathermap.org/geo/1.0/direct?q=${cityName}&limit=1&appid=${apiKey}`;
      
      // 검색 시작 로딩 표시
      document.getElementById('location-name').innerHTML = `검색 중... <i class="bi bi-search" style="font-size: 14px; margin-left: 3px;"></i>`;
      document.getElementById('location-coords').textContent = "위치 정보를 가져오는 중...";
      
      // 차트 로딩 표시
      if (window.weeklyChart) {
        window.weeklyChart.destroy();
        window.weeklyChart = null;
      }
      document.getElementById('weeklyWeatherChart').style.opacity = '0.5';
      
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          if (data && data.length > 0) {
            const latitude = data[0].lat;
            const longitude = data[0].lon;
            const locationName = data[0].name;
            const country = data[0].country;
            
            console.log('검색된 도시 정보:', data[0]);
            console.log(`위도: ${latitude}, 경도: ${longitude}`);
            
            // 위치 정보 표시
            document.getElementById('location-name').innerHTML = `${locationName}, ${country} <i class="bi bi-search" style="font-size: 14px; margin-left: 3px;"></i>`;
            document.getElementById('location-coords').textContent = 
              `위도: ${latitude.toFixed(4)}, 경도: ${longitude.toFixed(4)}`;
            
            // 주간 날씨 예보 제목에도 도시 이름 표시
            document.getElementById('forecast-city').textContent = `(${locationName})`;
              
            // 날씨 데이터 가져오기 (주간 예보 포함)
            fetchWeatherData(latitude, longitude);
          } else {
            Swal.fire({
              icon: 'error',
              title: '도시 검색 실패',
              text: '입력하신 도시를 찾을 수 없습니다.'
            });
            // 로딩 상태 해제
            document.getElementById('weeklyWeatherChart').style.opacity = '1';
          }
        })
        .catch(error => {
          console.error("도시 검색 중 오류 발생:", error);
          Swal.fire({
            icon: 'error',
            title: '도시 검색 오류',
            text: '도시 검색 중 오류가 발생했습니다.'
          });
          // 로딩 상태 해제
          document.getElementById('weeklyWeatherChart').style.opacity = '1';
        });
    }

    // OpenWeatherMap API로 날씨 데이터 가져오기
    function fetchWeatherData(latitude, longitude) {
      const apiKey = '4d8fb5b93d4af21d66a2948710284366'; // OpenWeatherMap API 키
      const weatherUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric&lang=kr`;
      
      // 현재 날씨 데이터 가져오기
      fetch(weatherUrl)
        .then(response => response.json())
        .then(data => {
          console.log('현재 날씨 데이터:', data);
          
          // 시간대 정보 저장 (초 단위)
          const timezone = data.timezone;
          console.log('도시 시간대 정보(초):', timezone);
          
          // 현재 날씨 데이터 표시
          displayWeatherData(data);
          
          // 주간 날씨 예보 데이터 가져오기 (시간대 정보 전달)
          fetchWeeklyForecast(latitude, longitude, timezone);
          
          // 미세먼지 데이터 가져오기
          fetchAirPollutionData(latitude, longitude);
        })
        .catch(error => {
          console.error("날씨 데이터를 가져오는데 실패했습니다:", error);
          document.getElementById('weather-desc').textContent = "날씨 정보를 불러올 수 없습니다";
        });
    }
    
    // 7일 날씨 예보 데이터 가져오기
    function fetchWeeklyForecast(latitude, longitude, timezone) {
      const apiKey = '4d8fb5b93d4af21d66a2948710284366'; // OpenWeatherMap API 키
      const apiUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric&lang=kr`;
      
      // 로딩 상태 표시
      document.getElementById('weeklyWeatherChart').style.opacity = '0.5';
      
      // 기존 차트 제거 (도시 변경 시 새로운 데이터로 완전히 대체하기 위함)
      if (window.weeklyChart) {
        window.weeklyChart.destroy();
        window.weeklyChart = null;
      }
      
      // 시간대 정보가 없으면 다시 가져오기
      if (timezone === undefined) {
        fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric&lang=kr`)
          .then(response => response.json())
          .then(data => {
            const timezone = data.timezone;
            console.log('시간대 정보 재요청:', timezone);
            processWeeklyForecast(latitude, longitude, timezone);
          })
          .catch(error => {
            console.error("시간대 정보를 가져오는데 실패했습니다:", error);
            // 기본 UTC+9 (한국 시간) 사용
            processWeeklyForecast(latitude, longitude, 32400);
          });
      } else {
        processWeeklyForecast(latitude, longitude, timezone);
      }
    }
    
    // 주간 예보 데이터 처리
    function processWeeklyForecast(latitude, longitude, timezone) {
      const apiKey = '4d8fb5b93d4af21d66a2948710284366'; // OpenWeatherMap API 키
      const apiUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric&lang=kr`;
      
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          console.log('받은 5일 예보 데이터:', data);
          console.log('사용 중인 시간대 정보(초):', timezone);
          
          // 현재 UTC 시간
          const now = new Date();
          const utcNow = new Date(now.getTime() + now.getTimezoneOffset() * 60000);
          console.log('현재 UTC 시간:', utcNow);
          
          // 선택한 도시의 현재 시간 (UTC + 시간대 오프셋)
          const cityTime = new Date(utcNow.getTime() + timezone * 1000);
          cityTime.setHours(0, 0, 0, 0); // 해당 도시의 자정으로 설정
          console.log('도시 현지 시간 (자정):', cityTime);
          
          // 해당 도시의 오늘 기준 UTC 시간 계산
          const cityTodayUTC = new Date(cityTime.getTime() - timezone * 1000);
          console.log('도시의 오늘 자정 (UTC 기준):', cityTodayUTC);
          
          // 오늘 이후의 데이터만 필터링
          const filteredData = data.list.filter(item => {
            const itemDate = new Date(item.dt * 1000);
            return itemDate >= cityTodayUTC;
          });
          
          console.log('필터링된 데이터 수:', filteredData.length);
          
          // 날짜별로 그룹화 (하루 중 가장 높은 기온과 가장 낮은 기온을 찾기 위함)
          const dailyGroups = {};
          
          filteredData.forEach(item => {
            // API 응답의 dt는 UTC 기준 Unix 타임스탬프
            const utcDate = new Date(item.dt * 1000);
            
            // 도시 현지 시간으로 변환
            const cityLocalTime = new Date(utcDate.getTime() + timezone * 1000);
            
            // 현지 날짜만 추출하여 키로 사용
            const dateStr = `${cityLocalTime.getFullYear()}-${cityLocalTime.getMonth() + 1}-${cityLocalTime.getDate()}`;
            
            if (!dailyGroups[dateStr]) {
              dailyGroups[dateStr] = [];
            }
            
            dailyGroups[dateStr].push({
              ...item,
              localDateTime: cityLocalTime
            });
          });
          
          console.log('날짜별 그룹:', Object.keys(dailyGroups));
          
          // 각 날짜에서 가장 높은 기온과 가장 낮은 기온 추출
          const dailyData = [];
          
          for (const dateStr in dailyGroups) {
            const dayData = dailyGroups[dateStr];
            
            // 가장 높은 기온 찾기
            const maxTemp = Math.max(...dayData.map(item => item.main.temp));
            
            // 가장 낮은 기온 찾기
            const minTemp = Math.min(...dayData.map(item => item.main.temp));
            
            // 정오에 가장 가까운 시간의 데이터 찾기
            let closestToNoon = dayData[0];
            let minDiff = Infinity;
            
            dayData.forEach(item => {
              const localTime = item.localDateTime;
              const hours = localTime.getHours();
              const diff = Math.abs(12 - hours);
              
              if (diff < minDiff) {
                minDiff = diff;
                closestToNoon = item;
              }
            });
            
            // 날짜 객체 생성 (해당 날짜의 현지 시간 정보)
            const [year, month, day] = dateStr.split('-').map(num => parseInt(num));
            const dateObj = new Date(year, month - 1, day);
            
            dailyData.push({
              date: dateObj,
              dateStr: dateStr,
              maxTemp: maxTemp,
              minTemp: minTemp,
              weather: closestToNoon.weather[0],
              icon: closestToNoon.weather[0].icon
            });
          }
          
          // 날짜순으로 정렬
          dailyData.sort((a, b) => new Date(a.dateStr) - new Date(b.dateStr));
          
          console.log('정렬된 일일 데이터:', dailyData);
          
          // 최대 5일까지만 사용
          if (dailyData.length > 5) {
            dailyData.length = 5;
          }
          
          // 차트에 표시할 데이터 준비
          const dates = dailyData.map(item => {
            const date = item.date;
            const dayNames = ['일', '월', '화', '수', '목', '금', '토'];
            const dayName = dayNames[date.getDay()];
            return `${date.getMonth() + 1}/${date.getDate()} (${dayName})`;
          });
          
          const maxTemps = dailyData.map(item => Math.round(item.maxTemp));
          const minTemps = dailyData.map(item => Math.round(item.minTemp));
          const weatherIcons = dailyData.map(item => item.icon);
          
          console.log('차트용 날짜 레이블:', dates);
          console.log('최고 기온 데이터:', maxTemps);
          console.log('최저 기온 데이터:', minTemps);
          
          // 주간 날씨 차트 생성
          createWeeklyChart(dates, maxTemps, minTemps, weatherIcons);
          
          // 로딩 상태 해제
          document.getElementById('weeklyWeatherChart').style.opacity = '1';
        })
        .catch(error => {
          console.error("주간 날씨 데이터를 가져오는데 실패했습니다:", error);
          // 오류 시 차트 영역에 오류 메시지 표시
          if (window.weeklyChart) {
            window.weeklyChart.destroy();
            window.weeklyChart = null;
          }
          const ctx = document.getElementById('weeklyWeatherChart').getContext('2d');
          ctx.font = '14px Arial';
          ctx.fillStyle = '#e74c3c';
          ctx.textAlign = 'center';
          ctx.fillText('주간 날씨 데이터를 불러올 수 없습니다', ctx.canvas.width/2, ctx.canvas.height/2);
          
          // 로딩 상태 해제
          document.getElementById('weeklyWeatherChart').style.opacity = '1';
        });
    }
    
    // 위치 이름 가져오기 (리버스 지오코딩)
    function fetchLocationName(latitude, longitude) {
      const apiKey = '4d8fb5b93d4af21d66a2948710284366'; // OpenWeatherMap API 키
      const apiUrl = `https://api.openweathermap.org/geo/1.0/reverse?lat=${latitude}&lon=${longitude}&limit=1&appid=${apiKey}`;
      
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          if (data && data.length > 0) {
            const locationName = data[0].name;
            const country = data[0].country;
            document.getElementById('location-name').innerHTML = `${locationName}, ${country} <i class="bi bi-search" style="font-size: 14px; margin-left: 3px;"></i>`;
            // 주간 날씨 예보 제목에도 도시 이름 표시
            document.getElementById('forecast-city').textContent = `(${locationName})`;
          }
        })
        .catch(error => {
          console.error("위치 이름을 가져오는데 실패했습니다:", error);
        });
    }
    
    // 마지막 업데이트 시간 표시 함수
    function getCurrentTime() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      return `${hours}:${minutes}:${seconds}`;
    }
    
    // 날씨 데이터 표시
    function displayWeatherData(data) {
      const weatherTemp = document.getElementById('weather-temp');
      const weatherDesc = document.getElementById('weather-desc');
      const weatherIcon = document.getElementById('weather-icon');
      const lastUpdated = document.getElementById('last-updated');
      const weatherHumidity = document.getElementById('weather-humidity');
      const weatherWind = document.getElementById('weather-wind');
      const weatherFeels = document.getElementById('weather-feels');
      
      // 온도와 날씨 설명 표시
      weatherTemp.textContent = `${Math.round(data.main.temp)}°C`;
      weatherDesc.textContent = data.weather[0].description;
      
      // 추가 날씨 정보 표시
      weatherHumidity.textContent = `${data.main.humidity}%`;
      weatherWind.textContent = `${Math.round(data.wind.speed)}m/s`;
      weatherFeels.textContent = `${Math.round(data.main.feels_like)}°C`;
      
      // 날씨 아이콘 변경
      const iconCode = data.weather[0].icon;
      weatherIcon.innerHTML = getWeatherIcon(iconCode);
      
      // 마지막 업데이트 시간 표시 (선택된 도시의 현지 시간 기준)
      const cityDateTime = formatCityDateTime(data.dt, data.timezone);
      lastUpdated.textContent = `마지막 업데이트: ${cityDateTime}`;
    }
    
    // 날씨 아이콘 반환 (Bootstrap Icons 사용)
    function getWeatherIcon(iconCode) {
      // 아이콘 코드에 따라 Bootstrap 아이콘 반환
      // 모든 아이콘에 grayscale 필터 적용
      const iconMap = {
        '01d': '<i class="bi bi-sun" style="font-size: 5rem; color: #555;"></i>', // 맑음 (낮)
        '01n': '<i class="bi bi-moon" style="font-size: 5rem; color: #555;"></i>', // 맑음 (밤)
        '02d': '<i class="bi bi-cloud-sun" style="font-size: 5rem; color: #555;"></i>', // 구름 조금 (낮)
        '02n': '<i class="bi bi-cloud-moon" style="font-size: 5rem; color: #555;"></i>', // 구름 조금 (밤)
        '03d': '<i class="bi bi-cloud" style="font-size: 5rem; color: #555;"></i>', // 구름 많음
        '03n': '<i class="bi bi-cloud" style="font-size: 5rem; color: #555;"></i>', // 구름 많음
        '04d': '<i class="bi bi-clouds" style="font-size: 5rem; color: #555;"></i>', // 흐림
        '04n': '<i class="bi bi-clouds" style="font-size: 5rem; color: #555;"></i>', // 흐림
        '09d': '<i class="bi bi-cloud-drizzle" style="font-size: 5rem; color: #555;"></i>', // 소나기
        '09n': '<i class="bi bi-cloud-drizzle" style="font-size: 5rem; color: #555;"></i>', // 소나기
        '10d': '<i class="bi bi-cloud-rain" style="font-size: 5rem; color: #555;"></i>', // 비
        '10n': '<i class="bi bi-cloud-rain" style="font-size: 5rem; color: #555;"></i>', // 비
        '11d': '<i class="bi bi-cloud-lightning" style="font-size: 5rem; color: #555;"></i>', // 뇌우
        '11n': '<i class="bi bi-cloud-lightning" style="font-size: 5rem; color: #555;"></i>', // 뇌우
        '13d': '<i class="bi bi-snow" style="font-size: 5rem; color: #555;"></i>', // 눈
        '13n': '<i class="bi bi-snow" style="font-size: 5rem; color: #555;"></i>', // 눈
        '50d': '<i class="bi bi-cloud-fog" style="font-size: 5rem; color: #555;"></i>', // 안개
        '50n': '<i class="bi bi-cloud-fog" style="font-size: 5rem; color: #555;"></i>' // 안개
      };
      
      return iconMap[iconCode] || '<i class="bi bi-cloud-sun" style="font-size: 5rem; color: #555;"></i>';
    }
    
    // 선택된 도시의 시간대에 맞는 날짜 시간 포맷팅 함수
    function formatCityDateTime(timestamp, timezone) {
      // UTC 시간 계산
      const utcTime = new Date(timestamp * 1000);
      
      // 도시 현지 시간 계산 (UTC + 시간대 오프셋)
      const cityTime = new Date(utcTime.getTime() + timezone * 1000);
      
      const year = cityTime.getUTCFullYear();
      const month = String(cityTime.getUTCMonth() + 1).padStart(2, '0');
      const day = String(cityTime.getUTCDate()).padStart(2, '0');
      const hours = String(cityTime.getUTCHours()).padStart(2, '0');
      const minutes = String(cityTime.getUTCMinutes()).padStart(2, '0');
      const dayNames = ['일', '월', '화', '수', '목', '금', '토'];
      const dayName = dayNames[cityTime.getUTCDay()];
      
      return `${year}-${month}-${day} (${dayName}) ${hours}:${minutes}`;
    }
    
    // 차트 위에 온도값 표시
    function addTemperatureLabels(chart, maxTemps, minTemps, weatherIcons) {
      // 온도값 표시 플러그인 정의
      const tempLabelsPlugin = {
        id: 'tempLabels',
        afterDatasetDraw: (chart) => {
          const ctx = chart.ctx;
          const chartArea = chart.chartArea;
          const topPadding = chartArea.top;
          
          // 최고 온도 라벨
          const meta0 = chart.getDatasetMeta(0);
          meta0.data.forEach((dataPoint, index) => {
            // 데이터 포인트 위치 
            const x = dataPoint.x;
            const y = Math.max(dataPoint.y - 20, topPadding + 5); // 차트 상단 경계를 넘지 않도록 조정
            
            // 그림자 효과 추가
            ctx.shadowOffsetX = 1;
            ctx.shadowOffsetY = 1;
            ctx.shadowBlur = 2;
            ctx.shadowColor = 'rgba(0, 0, 0, 0.2)';
            
            // 온도값 표시
            ctx.fillStyle = '#2A6EB5';
            ctx.font = 'bold 11px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`${maxTemps[index]}°`, x, y);
            
            // 그림자 초기화
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            ctx.shadowBlur = 0;
            
            // 날씨 아이콘 표시 (차트 영역 상단 위에 배치)
            const iconY = topPadding - 8; // 차트 위쪽 여백에 배치
            if (window.innerWidth > 400) { // 매우 작은 화면에서만 숨김
              ctx.font = '12px Arial';
              ctx.fillText(weatherIcons[index], x, iconY);
            }
          });
          
          // 최저 온도 라벨
          const meta1 = chart.getDatasetMeta(1);
          meta1.data.forEach((dataPoint, index) => {
            // 데이터 포인트 위치
            const x = dataPoint.x;
            const y = Math.min(dataPoint.y + 18, chartArea.bottom - 5); // 차트 하단 경계를 넘지 않도록 조정
            
            // 온도값 표시 (그림자 없음)
            ctx.fillStyle = '#7A8694';
            ctx.font = '10px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`${minTemps[index]}°`, x, y);
          });
        }
      };
      
      // 이전에 등록된 플러그인 제거 (안전한 방식으로)
      try {
        const tempLabelsPluginInstance = Chart.registry.plugins.get('tempLabels');
        if (tempLabelsPluginInstance) {
          Chart.unregister(tempLabelsPluginInstance);
        }
      } catch (e) {
        // 오류 무시
      }
      
      // 새 플러그인 등록
      Chart.register(tempLabelsPlugin);
      
      // 차트 업데이트
      chart.update();
    }
    
    // 주간 날씨 차트 생성
    function createWeeklyChart(dates, maxTemps, minTemps, icons) {
      const ctx = document.getElementById('weeklyWeatherChart').getContext('2d');
      
      // 기존 차트 제거
      if (window.weeklyChart) {
        window.weeklyChart.destroy();
        window.weeklyChart = null;
      }
      
      // 차트 색상 설정 (컬러 그라데이션)
      const gradientBg = ctx.createLinearGradient(0, 0, 0, 220);
      gradientBg.addColorStop(0, 'rgba(74, 144, 226, 0.3)');
      gradientBg.addColorStop(0.7, 'rgba(74, 144, 226, 0.1)');
      gradientBg.addColorStop(1, 'rgba(74, 144, 226, 0.05)');
      
      // 날씨 아이콘 코드
      const weatherIcons = icons.map(icon => {
        switch(icon.substring(0, 2)) {
          case '01': return '☀️'; 
          case '02': return '⛅'; 
          case '03': case '04': return '☁️'; 
          case '09': return '🌧️'; 
          case '10': return '🌦️'; 
          case '11': return '⛈️';
          case '13': return '❄️'; 
          case '50': return '🌫️'; 
          default: return '☁️';
        }
      });
      
      // 온도 데이터에서 최대/최소값 구하기 (차트 축 범위 조정용)
      const allTemps = [...maxTemps, ...minTemps];
      const minTemp = Math.min(...allTemps) - 2; // 여유 공간 추가
      const maxTemp = Math.max(...allTemps) + 2; // 여유 공간 추가
      
      // 온도 데이터 저장 (레이블 표시용)
      window.chartData = {
        maxTemps: maxTemps,
        minTemps: minTemps,
        weatherIcons: weatherIcons
      };
      
      // 차트 생성
      window.weeklyChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: dates,
          datasets: [
            {
              label: '최고 기온 (°C)',
              data: maxTemps,
              backgroundColor: 'rgba(74, 144, 226, 0.1)',
              borderColor: '#4A90E2',
              borderWidth: 3,
              tension: 0.4,
              fill: true,
              pointBackgroundColor: '#4A90E2',
              pointBorderColor: '#fff',
              pointBorderWidth: 2,
              pointRadius: 5,
              pointHoverRadius: 7,
              pointShadowOffsetX: 3,
              pointShadowOffsetY: 3,
              pointShadowBlur: 5,
              pointShadowColor: 'rgba(0, 0, 0, 0.2)'
            },
            {
              label: '최저 기온 (°C)',
              data: minTemps,
              backgroundColor: 'transparent',
              borderColor: '#9DB1C5',
              borderWidth: 2,
              borderDash: [5, 5],
              tension: 0.4,
              fill: false,
              pointBackgroundColor: '#9DB1C5',
              pointBorderColor: '#fff',
              pointBorderWidth: 1.5,
              pointRadius: 4,
              pointHoverRadius: 6
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          layout: {
            padding: {
              top: 30,    // 상단 여백 추가
              right: 10,
              bottom: 10,
              left: 10
            }
          },
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              backgroundColor: 'rgba(42, 110, 181, 0.9)',
              titleColor: '#fff',
              bodyColor: '#fff',
              titleFont: {
                size: 12,
                weight: 'bold'
              },
              bodyFont: {
                size: 12
              },
              padding: 12,
              cornerRadius: 10,
              displayColors: false,
              callbacks: {
                title: function(tooltipItems) {
                  const index = tooltipItems[0].dataIndex;
                  return `${dates[index]} ${weatherIcons[index]}`;
                },
                label: function(context) {
                  if (context.datasetIndex === 0) {
                    return `최고: ${context.raw}°C`;
                  } else {
                    return `최저: ${context.raw}°C`;
                  }
                }
              }
            }
          },
          scales: {
            y: {
              display: true,
              grid: {
                color: 'rgba(200, 200, 200, 0.15)',
                borderDash: [3, 3]
              },
              min: minTemp, // 최저 기온보다 낮게 설정
              max: maxTemp, // 최고 기온보다 높게 설정
              ticks: {
                color: '#555',
                font: {
                  size: 10,
                  weight: '500'
                },
                callback: function(value) {
                  return value + '°';
                },
                padding: 8
              }
            },
            x: {
              grid: {
                display: false
              },
              ticks: {
                color: '#555',
                font: {
                  size: 10,
                  weight: '600'
                },
                padding: 8
              }
            }
          },
          interaction: {
            mode: 'index',
            intersect: false
          },
          hover: {
            mode: 'index',
            intersect: false
          },
          elements: {
            line: {
              shadowOffsetX: 2,
              shadowOffsetY: 2,
              shadowBlur: 5,
              shadowColor: 'rgba(0, 0, 0, 0.1)'
            }
          },
          animation: {
            onComplete: function() {
              // 애니메이션 완료 후 레이블 추가
              addTemperatureLabels(window.weeklyChart, maxTemps, minTemps, weatherIcons);
            }
          }
        }
      });
      
      // 차트가 완전히 렌더링된 후 온도값 표시 적용 (추가 안전장치)
      setTimeout(() => {
        if (window.weeklyChart) {
          addTemperatureLabels(window.weeklyChart, maxTemps, minTemps, weatherIcons);
        }
      }, 300);
      
      // 반응형 처리
      window.addEventListener('resize', function() {
        if (window.weeklyChart && window.chartData) {
          window.weeklyChart.resize();
          // 리사이즈 후 온도값도 다시 표시 (저장된 데이터 사용)
          addTemperatureLabels(
            window.weeklyChart, 
            window.chartData.maxTemps, 
            window.chartData.minTemps, 
            window.chartData.weatherIcons
          );
        }
      });
    }

    // 미세먼지 데이터 가져오기
    function fetchAirPollutionData(latitude, longitude) {
      const apiKey = '4d8fb5b93d4af21d66a2948710284366'; // OpenWeatherMap API 키
      const apiUrl = `https://api.openweathermap.org/data/2.5/air_pollution?lat=${latitude}&lon=${longitude}&appid=${apiKey}`;
      
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          // 미세먼지 데이터 표시
          displayAirPollutionData(data);
        })
        .catch(error => {
          console.error("미세먼지 데이터를 가져오는데 실패했습니다:", error);
          document.getElementById('pm10-value').textContent = "정보 없음";
          document.getElementById('pm25-value').textContent = "정보 없음";
        });
    }
    
    // 미세먼지 데이터 표시
    function displayAirPollutionData(data) {
      if (data && data.list && data.list.length > 0) {
        const airData = data.list[0];
        const pm10Value = airData.components.pm10.toFixed(1);
        const pm25Value = airData.components.pm2_5.toFixed(1);
        const aqi = airData.main.aqi; // Air Quality Index (1-5)
        
        // 미세먼지 값 표시
        document.getElementById('pm10-value').textContent = `${pm10Value} μg/m³`;
        document.getElementById('pm25-value').textContent = `${pm25Value} μg/m³`;
        
        // 미세먼지 수준에 따른 아이콘 색상 설정
        setPM10Color(pm10Value);
        setPM25Color(pm25Value);
      }
    }
    
    // 미세먼지 수준에 따른 색상 설정 (PM10)
    function setPM10Color(value) {
      const pm10Icon = document.getElementById('pm10-icon');
      const pm10Value = document.getElementById('pm10-value');
      const pm10Status = document.getElementById('pm10-status');
      
      pm10Icon.className = 'air-metric-icon';
      pm10Value.className = 'air-metric-value';
      pm10Status.className = 'air-metric-status';
      
      let statusText = '';
      let statusClass = '';
      
      // 미세먼지 수준에 따른 클래스 추가
      if (value <= 30) {
        statusText = '좋음';
        statusClass = 'air-good';
        pm10Status.classList.add('air-good-bg');
      } else if (value <= 80) {
        statusText = '보통';
        statusClass = 'air-moderate';
        pm10Status.classList.add('air-moderate-bg');
      } else if (value <= 150) {
        statusText = '민감군 유해';
        statusClass = 'air-unhealthy-sensitive';
        pm10Status.classList.add('air-unhealthy-sensitive-bg');
      } else if (value <= 250) {
        statusText = '유해';
        statusClass = 'air-unhealthy';
        pm10Status.classList.add('air-unhealthy-bg');
      } else {
        statusText = '매우 유해';
        statusClass = 'air-hazardous';
        pm10Status.classList.add('air-hazardous-bg');
      }
      
      pm10Icon.classList.add(statusClass);
      pm10Value.classList.add(statusClass);
      pm10Status.textContent = statusText;
    }
    
    // 초미세먼지 수준에 따른 색상 설정 (PM2.5)
    function setPM25Color(value) {
      const pm25Icon = document.getElementById('pm25-icon');
      const pm25Value = document.getElementById('pm25-value');
      const pm25Status = document.getElementById('pm25-status');
      
      pm25Icon.className = 'air-metric-icon';
      pm25Value.className = 'air-metric-value';
      pm25Status.className = 'air-metric-status';
      
      let statusText = '';
      let statusClass = '';
      
      // 초미세먼지 수준에 따른 클래스 추가
      if (value <= 15) {
        statusText = '좋음';
        statusClass = 'air-good';
        pm25Status.classList.add('air-good-bg');
      } else if (value <= 35) {
        statusText = '보통';
        statusClass = 'air-moderate';
        pm25Status.classList.add('air-moderate-bg');
      } else if (value <= 75) {
        statusText = '민감군 유해';
        statusClass = 'air-unhealthy-sensitive';
        pm25Status.classList.add('air-unhealthy-sensitive-bg');
      } else if (value <= 150) {
        statusText = '유해';
        statusClass = 'air-unhealthy';
        pm25Status.classList.add('air-unhealthy-bg');
      } else {
        statusText = '매우 유해';
        statusClass = 'air-hazardous';
        pm25Status.classList.add('air-hazardous-bg');
      }
      
      pm25Icon.classList.add(statusClass);
      pm25Value.classList.add(statusClass);
      pm25Status.textContent = statusText;
    }
  </script>
  
  <footer id="footer" class="footer">
    <!--
    <div class="footer-newsletter">
      <div class="container">
        <div class="row justify-content-center text-center">
          <div class="col-lg-6">
            <h4>Join Our Newsletter</h4>
            <p>Subscribe to our newsletter and receive the latest news about our products and services!</p>
            <form action="forms/newsletter.php" method="post" class="php-email-form">
              <div class="newsletter-form"><input type="email" name="email"><input type="submit" value="Subscribe"></div>
              <div class="loading">Loading</div>
              <div class="error-message"></div>
              <div class="sent-message">Your subscription request has been sent. Thank you!</div>
            </form>
          </div>
        </div>
      </div>
    </div>-->

    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="" class="d-flex align-items-center">
            <span class="sitename">&lt;BR&gt;</span>
          </a>
          <div class="footer-contact pt-3">
            <p>서울특별시 종로구 창경궁로 254 동원빌딩 7층</p>
            <p class="mt-3"><strong>대표번호:</strong> <span>02-2188-6900</span></p>

          </div>

          <p class="mt-2">
            <!-- footer 쪽 -->
            <span onclick="toggleFooterMap()"
              style="cursor: pointer; color: #20c997; text-decoration: underline;">위치</span>

          </p>

          <div id="map" style="width: 100%; height: 400px; display: none; margin-top: 20px;"></div>
        </div>

        <div class="col-lg-3 offset-lg-1 col-md-3 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><i class="bi bi-chevron-right"></i> <a href="#hero">Home</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#about">About</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#services">Services</a></li>
            <!--<li><i class="bi bi-chevron-right"></i> <a href="#team">Team</a></li>-->
          </ul>
        </div>
        <!--
        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><i class="bi bi-chevron-right"></i> <a href="#">Web Design</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">Web Development</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">Product Management</a></li>
            <li><i class="bi bi-chevron-right"></i> <a href="#">Marketing</a></li>
          </ul>
        </div>-->

        <div class="col-lg-4 col-md-12 text-center footer">
          <h4>Follow Us</h4>
          <div class="social-links d-flex justify-content-center" style="gap: 15px;">
            
            <!-- 네이버 블로그 -->
            <a href="https://blog.naver.com/kosapr" target="_blank"
               style="width: 48px; height: 48px; border: 1px solid #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
              <img src="assets/img/naverblog.png" alt="네이버블로그" class="social-icon" style="width: 28px; height: 28px;">
            </a>
        
            <!-- 페이스북 -->
            <a href="https://www.facebook.com/people/한국소프트웨어산업협회/61550673369738/" target="_blank"
               style="width: 48px; height: 48px; border: 1px solid #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
              <i class="bi bi-facebook" style="font-size: 24px;"></i>
            </a>
        
            <!-- 카카오톡 -->
            <a href="https://pf.kakao.com/_Zxjfsb/friend" target="_blank"
               style="width: 48px; height: 48px; border: 1px solid #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
              <img src="assets/img/kakaotalk.png" alt="카카오톡" class="social-icon" style="width: 28px; height: 28px;">
            </a>
        
            <!-- 유튜브 -->
            <a href="https://www.youtube.com/@kosa3223" target="_blank"
               style="width: 48px; height: 48px; border: 1px solid #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
              <i class="bi bi-youtube" style="font-size: 24px;"></i>
            </a>
        
          </div>
        </div>
        


      </div>
    </div>

    <!--<div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">eNno</strong> <span>All Rights Reserved</span></p>
      <div class="credits">-->
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
       <!-- Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a> Distributed by <a
          href="https://themewagon.com">ThemeWagon
        </a>
      </div><a href="https://themewagon.com">
      </a>
    </div><a href="https://themewagon.com"> -->

    </a>
  </footer>

  </footer>
  <!-- 🔽 이 스크립트를 추가 -->
  <script type="text/javascript"
    src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=faedc692ee4f1fb94b995cdb777abeb9"></script>
  <script>
    function toggleFooterMap() {
      const mapDiv = document.getElementById("map");
      if (mapDiv.style.display === "none") {
        mapDiv.style.display = "block";

        const container = document.getElementById('map');
        const options = {
          center: new kakao.maps.LatLng(37.583746, 126.999949),
          level: 3
        };

        const map = new kakao.maps.Map(container, options);

        const markerPosition = new kakao.maps.LatLng(37.583746, 126.999949);
        const marker = new kakao.maps.Marker({
          position: markerPosition
        });
        marker.setMap(map);
      } else {
        mapDiv.style.display = "none";
      }
    }
  </script>
  <!--
<script>
  function toggleKanban() {
    const kanbanSection = document.getElementById("kanban-frame");
    if (kanbanSection.style.display === "none" || kanbanSection.style.display === "") {
      kanbanSection.style.display = "block";
      kanbanSection.scrollIntoView({ behavior: "smooth" });
    } else {
      kanbanSection.style.display = "none";
    }
  }
</script>-->

  <script>
    // ... existing code ...
    
    // 페이지 로드 시 실행
    document.addEventListener('DOMContentLoaded', function() {
      // ... existing code ...
      
      // 지역별 날씨 지도 초기화
      initKoreaWeatherMap();
    });
    
    // 대한민국 주요 지역 정의 (위치 조정)
    const koreaRegions = [
      { name: '서울', lat: 37.5665, lng: 126.8380 }, // 서울 위치 더 서쪽으로 조정
      { name: '부산', lat: 35.1796, lng: 129.1756 }, // 부산 위치 더 동쪽으로 조정
      { name: '대구', lat: 35.8714, lng: 128.7814 }, // 대구 위치 더 동쪽으로 조정
      { name: '인천', lat: 37.4563, lng: 126.4452 }, // 인천 위치 더 서쪽으로 조정
      { name: '광주', lat: 35.0295, lng: 126.7326 }, // 광주 위치 더 남쪽으로 조정
      { name: '대전', lat: 36.4604, lng: 127.3845 }, // 대전 위치 더 북쪽으로 조정
      { name: '울산', lat: 35.5384, lng: 129.4614 }, // 울산 위치 더 동쪽으로 조정
      { name: '세종', lat: 36.4800, lng: 127.0390 }, // 세종 위치 더 서쪽으로 조정
      { name: '제주', lat: 34.1496, lng: 126.8312 }, // 제주 위치 조정
      { name: '강릉', lat: 37.4519, lng: 128.8760 }, // 강릉 위치 조정
      { name: '전주', lat: 35.8242, lng: 126.9380 }, // 전주 위치 더 서쪽으로 조정
      { name: '청주', lat: 36.6424, lng: 127.7390 }  // 청주 위치 더 동쪽으로 조정
    ];
    
    // 날씨 이모지 매핑
    function getWeatherEmoji(iconCode) {
      const iconMap = {
        '01d': '☀️', // 맑음 (낮)
        '01n': '🌙', // 맑음 (밤)
        '02d': '⛅', // 구름 조금 (낮)
        '02n': '☁️', // 구름 조금 (밤)
        '03d': '☁️', // 구름 많음
        '03n': '☁️', // 구름 많음
        '04d': '☁️', // 흐림
        '04n': '☁️', // 흐림
        '09d': '🌧️', // 소나기
        '09n': '🌧️', // 소나기
        '10d': '🌦️', // 비 (낮)
        '10n': '🌧️', // 비 (밤)
        '11d': '⛈️', // 뇌우
        '11n': '⛈️', // 뇌우
        '13d': '❄️', // 눈
        '13n': '❄️', // 눈
        '50d': '🌫️', // 안개
        '50n': '🌫️'  // 안개
      };
      
      return iconMap[iconCode] || '☁️';
    }
    
    // 지역별 날씨 지도 초기화
    function initKoreaWeatherMap() {
      // 지도 컨테이너
      const mapContainer = document.getElementById('korea-weather-map');
      if (!mapContainer) return;
      
      // 지도 옵션
      const mapOption = {
        center: new kakao.maps.LatLng(35.9, 127.8), // 한국 중심점 살짝 조정
        level: 16 // 줌 레벨 유지
      };
      
      // 지도 생성
      const map = new kakao.maps.Map(mapContainer, mapOption);
      
      // 지도 확대/축소 컨트롤 추가
      const zoomControl = new kakao.maps.ZoomControl();
      map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
      
      // 각 지역별 날씨 정보 가져오기 및 마커 표시
      loadRegionWeatherInfo(map);
    }
    
    // 지역별 날씨 정보 가져오기
    function loadRegionWeatherInfo(map) {
      const apiKey = '4d8fb5b93d4af21d66a2948710284366'; // OpenWeatherMap API 키
      const overlays = []; // 오버레이 배열
      const popups = []; // 팝업 배열
      
      // 팝업 닫기 함수
      function closeAllPopups() {
        popups.forEach(popup => {
          if (popup.parentNode) {
            popup.parentNode.removeChild(popup);
          }
        });
        popups.length = 0;
      }
      
      // 지도 클릭 시 모든 팝업 닫기
      kakao.maps.event.addListener(map, 'click', closeAllPopups);
      
      // 윈도우 리사이즈 시 팝업 닫기
      window.addEventListener('resize', closeAllPopups);
      
      // 스크롤 시 팝업 닫기 추가
      //window.addEventListener('scroll', closeAllPopups);
      
      // 문서 어디든 클릭했을 때 팝업 닫기 추가
      document.body.addEventListener('click', closeAllPopups);
      
      // 각 지역별로 날씨 정보 가져오기
      koreaRegions.forEach(region => {
        const { name, lat, lng } = region;
        
        // 날씨 API 호출
        fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&appid=${apiKey}&units=metric&lang=kr`)
          .then(response => response.json())
          .then(data => {
            // 지역별 날씨 정보
            const temp = Math.round(data.main.temp);
            const weatherIcon = data.weather[0].icon;
            const weatherDesc = data.weather[0].description;
            const humidity = data.main.humidity;
            const windSpeed = data.wind.speed;
            const feelsLike = Math.round(data.main.feels_like);
            
            // 커스텀 오버레이를 위한 위치 객체
            const position = new kakao.maps.LatLng(lat, lng);
            
            // 커스텀 오버레이 콘텐츠
            const content = document.createElement('div');
            content.className = 'region-weather-marker';
            content.innerHTML = `
              <div class="region-weather-emoji">${getWeatherEmoji(weatherIcon)}</div>
              <div class="region-weather-temp">${temp}°C</div>
              <div class="region-name">${name}</div>
            `;
            
            // 커스텀 오버레이 생성
            const overlay = new kakao.maps.CustomOverlay({
              position: position,
              content: content,
              xAnchor: 0.5,
              yAnchor: 0.5,
              zIndex: 1
            });
            
            // 지도에 커스텀 오버레이 표시
            overlay.setMap(map);
            overlays.push(overlay);
            
            // 커스텀 오버레이 클릭 시 상세 정보 팝업 표시
            content.addEventListener('click', function(e) {
              e.stopPropagation(); // 이벤트 버블링 방지
              
              // 기존 팝업 닫기
              closeAllPopups();
              
              // 팝업 생성
              const popup = document.createElement('div');
              popup.className = 'region-weather-popup';
              popup.innerHTML = `
                <div class="region-weather-popup-close">&times;</div>
                <div class="region-weather-popup-title">${name} 날씨 정보</div>
                <div class="region-weather-popup-content">
                  <p>${getWeatherEmoji(weatherIcon)} ${weatherDesc}</p>
                  <p>🌡️ 현재 기온: ${temp}°C</p>
                  <p>🤒 체감 온도: ${feelsLike}°C</p>
                  <p>💧 습도: ${humidity}%</p>
                  <p>💨 풍속: ${windSpeed}m/s</p>
                </div>
              `;
              
              // 마커 위치의 화면 좌표 계산을 위한 지도 컨테이너 참조
              const mapContainer = document.getElementById('korea-weather-map');
              const mapRect = mapContainer.getBoundingClientRect();
              
              // 팝업을 body에 직접 추가 (지도 외부에 표시되도록)
              document.body.appendChild(popup);
              
              // 팝업 내부 클릭 시 이벤트 전파 중단 (팝업이 닫히지 않도록)
              popup.addEventListener('click', function(e) {
                e.stopPropagation();
              });
              
              // 마커 위치의 화면 좌표 계산
              const markerPosition = map.getProjection().pointFromCoords(position);
              
              // 팝업 위치 설정 (지도 밖으로 표시)
              const popupLeft = mapRect.left + markerPosition.x;
              const popupTop = mapRect.top + markerPosition.y - 180; // 마커 위에 표시
              
              // 화면 경계 확인 및 위치 조정
              const popupWidth = 220;
              const popupHeight = 180;
              const windowWidth = window.innerWidth;
              const windowHeight = window.innerHeight;
              
              // 오른쪽 경계 체크
              let adjustedLeft = popupLeft;
              if (popupLeft + popupWidth > windowWidth - 20) {
                adjustedLeft = Math.max(20, windowWidth - popupWidth - 20);
              }
              // 왼쪽 경계 체크
              if (adjustedLeft < 20) {
                adjustedLeft = 20;
              }
              
              // 위쪽 경계 체크
              let adjustedTop = popupTop;
              if (popupTop < 20) {
                adjustedTop = mapRect.top + markerPosition.y + 40; // 마커 아래에 표시
              }
              // 아래쪽 경계 체크
              if (adjustedTop + popupHeight > windowHeight - 20) {
                adjustedTop = windowHeight - popupHeight - 20;
              }
              
              popup.style.left = `${adjustedLeft}px`;
              popup.style.top = `${adjustedTop}px`;
              
              popups.push(popup);
              
              // 팝업 닫기 버튼 이벤트
              popup.querySelector('.region-weather-popup-close').addEventListener('click', function(e) {
                e.stopPropagation();
                if (popup.parentNode) {
                  popup.parentNode.removeChild(popup);
                }
                const index = popups.indexOf(popup);
                if (index > -1) {
                  popups.splice(index, 1);
                }
              });
              
              // 드래그 기능 추가
              const titleBar = popup.querySelector('.region-weather-popup-title');
              titleBar.style.cursor = 'move'; // 드래그 가능함을 나타내는 커서
              popup.style.cursor = 'move'; // 팝업 전체에 드래그 가능함을 나타내는 커서

              let isDragging = false;
              let dragOffsetX = 0;
              let dragOffsetY = 0;

              // 팝업 전체에 드래그 이벤트 추가 (마우스)
              popup.addEventListener('mousedown', function(e) {
                // 닫기 버튼 클릭은 예외 처리
                if (e.target.classList.contains('region-weather-popup-close')) {
                  return;
                }
                
                isDragging = true;
                dragOffsetX = e.clientX - popup.offsetLeft;
                dragOffsetY = e.clientY - popup.offsetTop;
                popup.classList.add('dragging'); // 드래그 중임을 표시하는 클래스 추가
                e.preventDefault();
              });

              // 드래그 중 (마우스) - 기존 코드 유지
              document.addEventListener('mousemove', function(e) {
                if (isDragging) {
                  popup.style.left = (e.clientX - dragOffsetX) + 'px';
                  popup.style.top = (e.clientY - dragOffsetY) + 'px';
                }
              });

              // 드래그 종료 (마우스) - 기존 코드 유지
              document.addEventListener('mouseup', function() {
                isDragging = false;
                popup.classList.remove('dragging'); // 드래그 종료 시 클래스 제거
              });
              
              // 팝업 전체에 드래그 이벤트 추가 (터치)
              popup.addEventListener('touchstart', function(e) {
                // 닫기 버튼 터치는 예외 처리
                if (e.target.classList.contains('region-weather-popup-close')) {
                  return;
                }
                
                isDragging = true;
                const touch = e.touches[0];
                dragOffsetX = touch.clientX - popup.offsetLeft;
                dragOffsetY = touch.clientY - popup.offsetTop;
                popup.classList.add('dragging'); // 드래그 중임을 표시하는 클래스 추가
                e.preventDefault(); // 스크롤 방지
              });

              // 드래그 중 (터치) - 기존 코드 유지
              document.addEventListener('touchmove', function(e) {
                if (isDragging) {
                  const touch = e.touches[0];
                  popup.style.left = (touch.clientX - dragOffsetX) + 'px';
                  popup.style.top = (touch.clientY - dragOffsetY) + 'px';
                  e.preventDefault(); // 스크롤 방지
                }
              });

              // 드래그 종료 (터치) - 기존 코드 유지
              document.addEventListener('touchend', function() {
                isDragging = false;
                popup.classList.remove('dragging'); // 드래그 종료 시 클래스 제거
              });
            });
          })
          .catch(error => {
            console.error(`${name} 지역 날씨 정보를 가져오는데 실패했습니다:`, error);
          });
      });
    }
    
    // 현재 위치에서 가장 가까운 koreaRegions 지역 찾기
    function findClosestRegion(lat, lng) {
      if (!koreaRegions || koreaRegions.length === 0) return null;
      
      // 거리 계산 함수 (하버사인 공식)
      function calculateDistance(lat1, lon1, lat2, lon2) {
        const R = 6371; // 지구 반경 (km)
        const dLat = (lat2 - lat1) * (Math.PI / 180);
        const dLon = (lon2 - lon1) * (Math.PI / 180);
        const a = 
          Math.sin(dLat / 2) * Math.sin(dLat / 2) +
          Math.cos(lat1 * (Math.PI / 180)) * Math.cos(lat2 * (Math.PI / 180)) * 
          Math.sin(dLon / 2) * Math.sin(dLon / 2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        return R * c; // 거리 (km)
      }
      
      // 각 지역과의 거리 계산
      let minDistance = Infinity;
      let closestRegion = null;
      
      koreaRegions.forEach(region => {
        const distance = calculateDistance(lat, lng, region.lat, region.lng);
        if (distance < minDistance) {
          minDistance = distance;
          closestRegion = region;
        }
      });
      
      return closestRegion;
    }
  </script>

<script src="moveTominihome.js"></script>

  <!-- 다크모드 스크립트 -->
  <script>
    // 테마 관리 함수
    function handleThemeToggle() {
      const themeToggle = document.getElementById('theme-toggle');
      const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
      
      // 시스템 다크모드 감지
      const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
      
      // 로컬 스토리지에서 사용자 설정 불러오기
      const currentTheme = localStorage.getItem('theme');
      
      // 초기 테마 설정
      if (currentTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
      } else if (currentTheme === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
      } else if (prefersDarkScheme.matches) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
      
      // 테마 토글 기능 (헤더)
      if (themeToggle) {
        themeToggle.addEventListener('click', toggleTheme);
      }
      
      // 테마 토글 기능 (모바일)
      if (mobileThemeToggle) {
        mobileThemeToggle.addEventListener('click', toggleTheme);
      }
      
      // 테마 토글 함수
      function toggleTheme() {
        let theme;
        if (document.documentElement.getAttribute('data-theme') === 'dark') {
          document.documentElement.setAttribute('data-theme', 'light');
          theme = 'light';
        } else {
          document.documentElement.setAttribute('data-theme', 'dark');
          theme = 'dark';
        }
        localStorage.setItem('theme', theme);
      }
      
      // 시스템 테마 변경 감지 및 반영 (자동 모드일 때만)
      prefersDarkScheme.addEventListener('change', (e) => {
        if (!localStorage.getItem('theme')) {
          if (e.matches) {
            document.documentElement.setAttribute('data-theme', 'dark');
          } else {
            document.documentElement.setAttribute('data-theme', 'light');
          }
        }
      });
    }
    
    // 페이지 로드 시 테마 관리 함수 실행
    document.addEventListener('DOMContentLoaded', handleThemeToggle);

    function restoreLocalStorage() {
    const fileInput = document.getElementById("fileInput");
    const file = fileInput.files[0];

    if (!file) {
      alert("파일을 선택해주세요.");
      return;
    }

    const reader = new FileReader();
    reader.onload = function (e) {
      try {
        const data = JSON.parse(e.target.result);
        for (const key in data) {
          localStorage.setItem(key, data[key]);
        }
        alert("localStorage 복원 완료!");
      } catch (err) {
        alert("복원 실패: 유효한 JSON이 아닙니다.");
      }
    };

    reader.readAsText(file);
  }
  </script>
</body>

</html>